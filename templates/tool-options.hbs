<div class="fa-nexus-tool-options">
  <div class="fa-nexus-tool-options__content" data-fa-nexus-scroll-container>
    <section class="fa-nexus-tool-options__section">
    <label class="fa-nexus-tool-options__toggle" title="Snap new placements to the active scene grid.">
      <input type="checkbox" id="fa-nexus-grid-snap-toggle" {{#if gridSnapEnabled}}checked{{/if}} {{#unless gridSnapAvailable}}disabled{{/unless}}>
      <span>Snap to Grid</span>
    </label>
    {{#unless gridSnapAvailable}}
      <p class="fa-nexus-tool-options__hint">Grid snapping is unavailable in this environment.</p>
    {{/unless}}
    {{#if gridSnapResolution.available}}
      <div class="fa-nexus-tool-options__control fa-nexus-grid-snap" data-fa-nexus-grid-snap-root>
        <div class="fa-nexus-tool-options__control-header">
          <span class="fa-nexus-tool-options__label">Subgrid Density</span>
          <input type="number"
                 class="fa-nexus-tool-options__value"
                 min="{{gridSnapResolution.min}}"
                 max="{{gridSnapResolution.max}}"
                 step="{{gridSnapResolution.step}}"
                 value="{{gridSnapResolution.value}}"
                 inputmode="decimal"
                 data-fa-nexus-grid-snap-display
                 title="{{gridSnapResolution.display}}"
                 {{#if gridSnapResolution.disabled}}disabled{{/if}}>
        </div>
        <input type="range"
               min="{{gridSnapResolution.min}}"
               max="{{gridSnapResolution.max}}"
               step="{{gridSnapResolution.step}}"
               value="{{gridSnapResolution.value}}"
               data-fa-nexus-grid-snap-slider
               {{#if gridSnapResolution.disabled}}disabled{{/if}}>
        {{#if gridSnapResolution.hint}}
          <p class="fa-nexus-tool-options__hint" data-fa-nexus-grid-snap-hint>{{gridSnapResolution.hint}}</p>
        {{/if}}
      </div>
    {{/if}}

    {{#if showDropShadowToggle}}
      <label class="fa-nexus-tool-options__toggle" title="{{dropShadowTooltip}}">
        <input type="checkbox" id="fa-nexus-drop-shadow-toggle" {{#if dropShadowEnabled}}checked{{/if}} {{#if dropShadowDisabled}}disabled{{/if}}>
        <span>Drop Shadow</span>
      </label>
      {{#if dropShadowHint}}
        <p class="fa-nexus-tool-options__hint">{{dropShadowHint}}</p>
      {{/if}}
    {{/if}}

    {{#if dropShadowControls.available}}
      <div class="fa-nexus-tool-options__control fa-nexus-drop-shadow {{#if dropShadowControls.collapsed}}is-collapsed{{/if}}" data-fa-nexus-drop-shadow-root>
        <div class="fa-nexus-drop-shadow__header">
          <button type="button"
                  class="fa-nexus-drop-shadow__collapse"
                  data-fa-nexus-drop-shadow-toggle
                  aria-expanded="{{#unless dropShadowControls.collapsed}}true{{else}}false{{/unless}}"
                  title="{{#if dropShadowControls.collapsed}}Expand shadow settings{{else}}Collapse shadow settings{{/if}}">
            <i class="fas fa-chevron-down" aria-hidden="true"></i>
          </button>
          <span class="fa-nexus-tool-options__label">Shadow Settings</span>
          {{#if dropShadowControls.context.display}}
            <span class="fa-nexus-drop-shadow__elevation" data-fa-nexus-drop-shadow-elevation>Elevation {{dropShadowControls.context.display}}</span>
          {{/if}}
        </div>
        <div class="fa-nexus-drop-shadow__context-block">
          {{#if dropShadowControls.context.status}}
            <p class="fa-nexus-tool-options__hint fa-nexus-drop-shadow__context" data-fa-nexus-drop-shadow-status>{{dropShadowControls.context.status}}</p>
          {{/if}}
          {{#if dropShadowControls.context.note}}
            <p class="fa-nexus-tool-options__hint fa-nexus-drop-shadow__context" data-fa-nexus-drop-shadow-note>{{dropShadowControls.context.note}}</p>
          {{/if}}
          <div class="fa-nexus-drop-shadow__presets" data-fa-nexus-drop-shadow-presets>
            {{#each dropShadowControls.presets as |preset|}}
              <button type="button"
                      class="fa-nexus-drop-shadow__preset{{#if preset.active}} is-active{{/if}}{{#unless preset.saved}} is-empty{{/unless}}"
                      data-fa-nexus-drop-shadow-preset="{{preset.index}}"
                      aria-pressed="{{#if preset.active}}true{{else}}false{{/if}}"
                      title="{{preset.tooltip}}">
                {{preset.label}}
              </button>
            {{/each}}
            <button type="button" class="fa-nexus-drop-shadow__reset" data-fa-nexus-drop-shadow-reset title="Reset shadow settings to defaults">Reset</button>
          </div>
        </div>
        <div class="fa-nexus-drop-shadow__body" data-fa-nexus-drop-shadow-body>
          <div class="fa-nexus-drop-shadow__group">
            {{#if dropShadowControls.offset}}
            <div class="fa-nexus-drop-shadow__row fa-nexus-drop-shadow__offset" data-fa-nexus-drop-shadow-offset-row>
              <div class="fa-nexus-drop-shadow__row-header">
                <span class="fa-nexus-drop-shadow__row-label">Offset</span>
                <div class="fa-nexus-drop-shadow__offset-values">
                  <span class="fa-nexus-drop-shadow__offset-value">
                    <span class="fa-nexus-drop-shadow__offset-value-label">Distance</span>
                    <span class="fa-nexus-drop-shadow__offset-value-text" data-fa-nexus-drop-shadow-offset-distance-display>{{dropShadowControls.offset.displayDistance}}</span>
                  </span>
                  <span class="fa-nexus-drop-shadow__offset-value">
                    <span class="fa-nexus-drop-shadow__offset-value-label">Angle</span>
                    <span class="fa-nexus-drop-shadow__offset-value-text" data-fa-nexus-drop-shadow-offset-angle-display>{{dropShadowControls.offset.displayAngle}}</span>
                  </span>
                </div>
              </div>
              <div class="fa-nexus-drop-shadow__offset-control {{#if dropShadowControls.offset.disabled}}is-disabled{{/if}}"
                   data-fa-nexus-drop-shadow-offset-control
                   role="application"
                   aria-label="Shadow offset control"
                   data-max-distance="{{dropShadowControls.offset.maxDistance}}"
                   {{#if dropShadowControls.offset.disabled}}data-disabled="true"{{else}}data-disabled="false"{{/if}}>
                <div class="fa-nexus-drop-shadow__offset-circle" data-fa-nexus-drop-shadow-offset-circle>
                  <div class="fa-nexus-drop-shadow__offset-preview is-empty" data-fa-nexus-drop-shadow-offset-preview>
                    <img class="fa-nexus-drop-shadow__offset-preview-image"
                         data-fa-nexus-drop-shadow-offset-preview-image
                         alt=""
                         draggable="false">
                  </div>
                  <div class="fa-nexus-drop-shadow__offset-crosshair fa-nexus-drop-shadow__offset-crosshair--x"></div>
                  <div class="fa-nexus-drop-shadow__offset-crosshair fa-nexus-drop-shadow__offset-crosshair--y"></div>
                  <div class="fa-nexus-drop-shadow__offset-handle" data-fa-nexus-drop-shadow-offset-handle></div>
                </div>
              </div>
              {{#if dropShadowControls.offset.hint}}
                <p class="fa-nexus-tool-options__hint fa-nexus-drop-shadow__hint">{{dropShadowControls.offset.hint}}</p>
              {{/if}}
            </div>
            {{/if}}

            <div class="fa-nexus-drop-shadow__row" data-fa-nexus-drop-shadow-dilation-row>
              <div class="fa-nexus-drop-shadow__row-header">
                <span class="fa-nexus-drop-shadow__row-label">{{dropShadowControls.dilation.label}}</span>
                <input type="number"
                       class="fa-nexus-drop-shadow__row-value"
                       min="{{dropShadowControls.dilation.min}}"
                       max="{{dropShadowControls.dilation.max}}"
                       step="{{dropShadowControls.dilation.step}}"
                       value="{{dropShadowControls.dilation.value}}"
                       inputmode="decimal"
                       data-fa-nexus-drop-shadow-dilation-display
                       title="{{dropShadowControls.dilation.display}}"
                       {{#if dropShadowControls.dilation.disabled}}disabled{{/if}}>
              </div>
              <input type="range"
                     min="{{dropShadowControls.dilation.min}}"
                     max="{{dropShadowControls.dilation.max}}"
                     step="{{dropShadowControls.dilation.step}}"
                     value="{{dropShadowControls.dilation.value}}"
                     aria-label="{{dropShadowControls.dilation.label}}"
                     data-fa-nexus-drop-shadow-dilation
                     {{#if dropShadowControls.dilation.disabled}}disabled{{/if}}>
              {{#if dropShadowControls.dilation.hint}}
                <p class="fa-nexus-tool-options__hint fa-nexus-drop-shadow__hint">{{dropShadowControls.dilation.hint}}</p>
              {{/if}}
            </div>

            <div class="fa-nexus-drop-shadow__row" data-fa-nexus-drop-shadow-alpha-row>
              <div class="fa-nexus-drop-shadow__row-header">
                <span class="fa-nexus-drop-shadow__row-label">{{dropShadowControls.alpha.label}}</span>
                <input type="number"
                       class="fa-nexus-drop-shadow__row-value"
                       min="{{dropShadowControls.alpha.min}}"
                       max="{{dropShadowControls.alpha.max}}"
                       step="{{dropShadowControls.alpha.step}}"
                       value="{{dropShadowControls.alpha.value}}"
                       inputmode="decimal"
                       data-fa-nexus-drop-shadow-alpha-display
                       title="{{dropShadowControls.alpha.display}}"
                       {{#if dropShadowControls.alpha.disabled}}disabled{{/if}}>
              </div>
              <input type="range"
                     min="{{dropShadowControls.alpha.min}}"
                     max="{{dropShadowControls.alpha.max}}"
                     step="{{dropShadowControls.alpha.step}}"
                     value="{{dropShadowControls.alpha.value}}"
                     aria-label="{{dropShadowControls.alpha.label}}"
                     data-fa-nexus-drop-shadow-alpha
                     {{#if dropShadowControls.alpha.disabled}}disabled{{/if}}>
              {{#if dropShadowControls.alpha.hint}}
                <p class="fa-nexus-tool-options__hint fa-nexus-drop-shadow__hint">{{dropShadowControls.alpha.hint}}</p>
              {{/if}}
            </div>

            <div class="fa-nexus-drop-shadow__row" data-fa-nexus-drop-shadow-blur-row>
              <div class="fa-nexus-drop-shadow__row-header">
                <span class="fa-nexus-drop-shadow__row-label">{{dropShadowControls.blur.label}}</span>
                <input type="number"
                       class="fa-nexus-drop-shadow__row-value"
                       min="{{dropShadowControls.blur.min}}"
                       max="{{dropShadowControls.blur.max}}"
                       step="{{dropShadowControls.blur.step}}"
                       value="{{dropShadowControls.blur.value}}"
                       inputmode="decimal"
                       data-fa-nexus-drop-shadow-blur-display
                       title="{{dropShadowControls.blur.display}}"
                       {{#if dropShadowControls.blur.disabled}}disabled{{/if}}>
              </div>
              <input type="range"
                     min="{{dropShadowControls.blur.min}}"
                     max="{{dropShadowControls.blur.max}}"
                     step="{{dropShadowControls.blur.step}}"
                     value="{{dropShadowControls.blur.value}}"
                     aria-label="{{dropShadowControls.blur.label}}"
                     data-fa-nexus-drop-shadow-blur
                     {{#if dropShadowControls.blur.disabled}}disabled{{/if}}>
              {{#if dropShadowControls.blur.hint}}
                <p class="fa-nexus-tool-options__hint fa-nexus-drop-shadow__hint">{{dropShadowControls.blur.hint}}</p>
              {{/if}}
            </div>
          </div>
        </div>
      </div>
    {{/if}}

    {{#if hasSubtoolToggles}}
      <div class="fa-nexus-tool-options__control fa-nexus-subtools" data-fa-nexus-subtools-root>
        <div class="fa-nexus-tool-options__control-header">
          <span class="fa-nexus-tool-options__label">Subtools</span>
        </div>
        <div class="fa-nexus-subtools__list">
          {{#each subtoolToggles as |toggle|}}
            <label class="fa-nexus-tool-options__toggle fa-nexus-subtools__toggle" title="{{toggle.tooltip}}">
              <input type="radio"
                     name="fa-nexus-subtool"
                     data-fa-nexus-custom-toggle="{{toggle.id}}"
                     {{#if toggle.enabled}}checked{{/if}}
                     {{#if toggle.disabled}}disabled{{/if}}>
              <span>{{toggle.label}}</span>
            </label>
          {{/each}}
        </div>
      </div>
    {{/if}}

    {{#if hasSubtoolOptions}}
      <div class="fa-nexus-tool-options__control fa-nexus-subtool-options" data-fa-nexus-subtool-options-root>
        <div class="fa-nexus-tool-options__control-header">
          <span class="fa-nexus-tool-options__label">Subtool Options</span>
        </div>
        <div class="fa-nexus-subtool-options__list">
          {{#each subtoolOptions as |toggle|}}
            <label class="fa-nexus-tool-options__toggle" title="{{toggle.tooltip}}">
              <input type="checkbox" data-fa-nexus-custom-toggle="{{toggle.id}}" {{#if toggle.enabled}}checked{{/if}} {{#if toggle.disabled}}disabled{{/if}}>
              <span>{{toggle.label}}</span>
            </label>
          {{/each}}
        </div>
      </div>
    {{/if}}

    {{#if pathAppearance.freehandSimplify.available}}
      <div class="fa-nexus-tool-options__control fa-nexus-path-simplify" data-fa-nexus-path-simplify-root>
        <div class="fa-nexus-tool-options__control-header">
          <span class="fa-nexus-tool-options__label">Draw Simplification</span>
          <input type="number"
                 class="fa-nexus-tool-options__value"
                 min="{{pathAppearance.freehandSimplify.min}}"
                 max="{{pathAppearance.freehandSimplify.max}}"
                 step="{{pathAppearance.freehandSimplify.step}}"
                 value="{{pathAppearance.freehandSimplify.value}}"
                 inputmode="decimal"
                 data-fa-nexus-path-simplify-display
                 title="{{pathAppearance.freehandSimplify.display}}"
                 {{#if pathAppearance.freehandSimplify.disabled}}disabled{{/if}}>
        </div>
        <input type="range"
               min="{{pathAppearance.freehandSimplify.min}}"
               max="{{pathAppearance.freehandSimplify.max}}"
               step="{{pathAppearance.freehandSimplify.step}}"
               value="{{pathAppearance.freehandSimplify.value}}"
               aria-label="Draw Simplification"
               data-fa-nexus-path-simplify
               {{#if pathAppearance.freehandSimplify.disabled}}disabled{{/if}}>
        {{#if pathAppearance.freehandSimplify.hint}}
          <p class="fa-nexus-tool-options__hint">{{pathAppearance.freehandSimplify.hint}}</p>
        {{/if}}
      </div>
    {{/if}}

    {{#if hasEditorActions}}
      <div class="fa-nexus-tool-options__control fa-nexus-editor-actions" data-fa-nexus-editor-actions-root>
        <div class="fa-nexus-tool-options__control-header">
          <span class="fa-nexus-tool-options__label">Session Actions</span>
        </div>
        <div class="fa-nexus-texture-tools__actions fa-nexus-editor-actions__buttons">
          {{#each editorActions as |action|}}
            <button type="button"
                    class="fa-nexus-texture-tools__action fa-nexus-editor-actions__action {{#if action.primary}}is-primary{{/if}}"
                    data-fa-nexus-editor-action="{{action.id}}"
                    {{#if action.disabled}}disabled{{/if}}
                    title="{{action.tooltip}}">
              <span>{{action.label}}</span>
            </button>
          {{/each}}
        </div>
      </div>
    {{/if}}

    {{#if assetScatter.available}}
      <div class="fa-nexus-tool-options__control fa-nexus-asset-scatter" data-fa-nexus-asset-scatter-root>
        <div class="fa-nexus-tool-options__control-header">
          <span class="fa-nexus-tool-options__label">Scatter Brush</span>
        </div>
        <div class="fa-nexus-texture-offset__row">
          <span class="fa-nexus-texture-offset__axis">Brush</span>
          <input type="range"
                 min="{{assetScatter.brushSize.min}}"
                 max="{{assetScatter.brushSize.max}}"
                 step="{{assetScatter.brushSize.step}}"
                 value="{{assetScatter.brushSize.value}}"
                 aria-label="Scatter brush size"
                 data-fa-nexus-asset-scatter-size
                 {{#if assetScatter.brushSize.disabled}}disabled{{/if}}>
          <input type="number"
                 class="fa-nexus-tool-options__value"
                 min="{{assetScatter.brushSize.min}}"
                 max="{{assetScatter.brushSize.max}}"
                 step="{{assetScatter.brushSize.step}}"
                 value="{{assetScatter.brushSize.value}}"
                 inputmode="decimal"
                 data-fa-nexus-asset-scatter-size-display
                 title="{{assetScatter.brushSize.display}}"
                 {{#if assetScatter.brushSize.disabled}}disabled{{/if}}>
        </div>
        <div class="fa-nexus-texture-offset__row">
          <span class="fa-nexus-texture-offset__axis">Density</span>
          <input type="range"
                 min="{{assetScatter.density.min}}"
                 max="{{assetScatter.density.max}}"
                 step="{{assetScatter.density.step}}"
                 value="{{assetScatter.density.value}}"
                 aria-label="Scatter density"
                 data-fa-nexus-asset-scatter-density
                 {{#if assetScatter.density.disabled}}disabled{{/if}}>
          <input type="number"
                 class="fa-nexus-tool-options__value"
                 min="{{assetScatter.density.min}}"
                 max="{{assetScatter.density.max}}"
                 step="{{assetScatter.density.step}}"
                 value="{{assetScatter.density.value}}"
                 inputmode="decimal"
                 data-fa-nexus-asset-scatter-density-display
                 title="{{assetScatter.density.display}}"
                 {{#if assetScatter.density.disabled}}disabled{{/if}}>
        </div>
        <div class="fa-nexus-texture-offset__row">
          <span class="fa-nexus-texture-offset__axis">Spray</span>
          <input type="range"
                 min="{{assetScatter.sprayDeviation.min}}"
                 max="{{assetScatter.sprayDeviation.max}}"
                 step="{{assetScatter.sprayDeviation.step}}"
                 value="{{assetScatter.sprayDeviation.value}}"
                 aria-label="Scatter spray deviation"
                 data-fa-nexus-asset-scatter-spray
                 {{#if assetScatter.sprayDeviation.disabled}}disabled{{/if}}>
          <input type="number"
                 class="fa-nexus-tool-options__value"
                 min="{{assetScatter.sprayDeviation.min}}"
                 max="{{assetScatter.sprayDeviation.max}}"
                 step="{{assetScatter.sprayDeviation.step}}"
                 value="{{assetScatter.sprayDeviation.value}}"
                 inputmode="decimal"
                 data-fa-nexus-asset-scatter-spray-display
                 title="{{assetScatter.sprayDeviation.display}}"
                 {{#if assetScatter.sprayDeviation.disabled}}disabled{{/if}}>
        </div>
        <div class="fa-nexus-texture-offset__row">
          <span class="fa-nexus-texture-offset__axis">Spacing</span>
          <input type="range"
                 min="{{assetScatter.spacing.min}}"
                 max="{{assetScatter.spacing.max}}"
                 step="{{assetScatter.spacing.step}}"
                 value="{{assetScatter.spacing.value}}"
                 aria-label="Scatter spacing"
                 data-fa-nexus-asset-scatter-spacing
                 {{#if assetScatter.spacing.disabled}}disabled{{/if}}>
          <input type="number"
                 class="fa-nexus-tool-options__value"
                 min="{{assetScatter.spacing.min}}"
                 max="{{assetScatter.spacing.max}}"
                 step="{{assetScatter.spacing.step}}"
                 value="{{assetScatter.spacing.value}}"
                 inputmode="decimal"
                 data-fa-nexus-asset-scatter-spacing-display
                 title="{{assetScatter.spacing.display}}"
                 {{#if assetScatter.spacing.disabled}}disabled{{/if}}>
        </div>
        {{#if assetScatter.hint}}
          <p class="fa-nexus-tool-options__hint fa-nexus-asset-scatter__hint">{{assetScatter.hint}}</p>
        {{/if}}
      </div>
    {{/if}}

    {{#if hasPlacementToggles}}
      <div class="fa-nexus-tool-options__control fa-nexus-placement" data-fa-nexus-placement-root>
        <div class="fa-nexus-tool-options__control-header">
          <span class="fa-nexus-tool-options__label">Placement</span>
        </div>
        <div class="fa-nexus-placement__toggles">
          {{#each placementToggles as |toggle|}}
            <div class="fa-nexus-switch" data-fa-nexus-switch="{{toggle.id}}" title="{{toggle.tooltip}}">
              <div class="fa-nexus-switch__title">{{toggle.label}}</div>
              <div class="fa-nexus-switch__stack">
                <span class="fa-nexus-switch__state fa-nexus-switch__state--off" data-fa-nexus-switch-state="{{toggle.id}}-off">
                  {{#if toggle.offLabel}}{{toggle.offLabel}}{{else}}Off{{/if}}
                </span>
                <label class="fa-nexus-switch__control">
                  <input type="checkbox"
                         data-fa-nexus-custom-toggle="{{toggle.id}}"
                         {{#if toggle.enabled}}checked{{/if}}
                         {{#if toggle.disabled}}disabled{{/if}}>
                  <span class="fa-nexus-switch__track" aria-hidden="true">
                    <span class="fa-nexus-switch__thumb"></span>
                  </span>
                </label>
                <span class="fa-nexus-switch__state fa-nexus-switch__state--on" data-fa-nexus-switch-state="{{toggle.id}}-on">
                  {{#if toggle.onLabel}}{{toggle.onLabel}}{{else}}On{{/if}}
                </span>
              </div>
            </div>
          {{/each}}
        </div>
        {{#if shapeStacking.available}}
          <div class="fa-nexus-placement__order">
            <div class="fa-nexus-placement__order-header">
              <span class="fa-nexus-tool-options__label">Selected Wall</span>
              <div class="fa-nexus-placement__order-meta">
                {{#if shapeStacking.orderLabel}}
                  <span class="fa-nexus-placement__order-value" data-fa-nexus-placement-order>{{shapeStacking.orderLabel}}</span>
                {{/if}}
                {{#if shapeStacking.elevationLabel}}
                  <span class="fa-nexus-placement__order-value fa-nexus-placement__order-value--elevation" data-fa-nexus-placement-elevation>{{shapeStacking.elevationLabel}}</span>
                {{/if}}
              </div>
            </div>
            <div class="fa-nexus-placement__order-actions">
              <button type="button"
                      class="fa-nexus-placement__action"
                      data-fa-nexus-stack-top
                      {{#if shapeStacking.pushTopDisabled}}disabled{{/if}}>
                <i class="fas fa-arrow-up" aria-hidden="true"></i>
                <span>Push to Top</span>
              </button>
              <button type="button"
                      class="fa-nexus-placement__action"
                      data-fa-nexus-stack-bottom
                      {{#if shapeStacking.pushBottomDisabled}}disabled{{/if}}>
                <i class="fas fa-arrow-down" aria-hidden="true"></i>
                <span>Push to Bottom</span>
              </button>
            </div>
            {{#if shapeStacking.hint}}
              <p class="fa-nexus-tool-options__hint fa-nexus-placement__hint" data-fa-nexus-placement-hint>{{shapeStacking.hint}}</p>
            {{/if}}
          </div>
        {{/if}}
      </div>
    {{/if}}

    {{#if doorControls}}
      <div class="fa-nexus-tool-options__control fa-nexus-window-controls" data-fa-nexus-door-root>
        <div class="fa-nexus-tool-options__control-header">
          <span class="fa-nexus-tool-options__label">Door Options</span>
          <div class="fa-nexus-window-controls__selection-actions">
            <span class="fa-nexus-tool-options__value" data-fa-nexus-door-selection>{{doorControls.selectionLabel}}</span>
            <button type="button"
                    class="fa-nexus-icon-button"
                    data-fa-nexus-door-apply-default
                    title="Apply current door settings as defaults for new placements">
              <i class="fas fa-check" aria-hidden="true"></i>
            </button>
            <button type="button"
                    class="fa-nexus-icon-button"
                    data-fa-nexus-door-clear-selection
                    title="Clear current portal selection">
              <i class="fas fa-times" aria-hidden="true"></i>
            </button>
          </div>
        </div>

        {{!-- Door texture picker (hidden in portal mode) --}}
        {{#unless doorControls.hideTexturePickers}}
        <div class="fa-nexus-window-controls__section">
          <span class="fa-nexus-window-controls__section-label">Door Texture</span>
          <div class="fa-nexus-window-controls__row">
            <button type="button"
                    class="fa-nexus-window-controls__pick"
                    data-fa-nexus-door-pick
                    {{#if doorControls.disabled}}disabled{{/if}}>
              <i class="fas fa-door-closed" aria-hidden="true"></i>
              <span>{{doorControls.textureLabel}}</span>
            </button>
            <button type="button"
                    class="fa-nexus-window-controls__clear"
                    data-fa-nexus-door-clear
                    {{#if doorControls.disabled}}disabled{{/if}}>
              Clear
            </button>
          </div>
        </div>
        {{/unless}}

        <div class="fa-nexus-window-controls__toggles">
          <label class="fa-nexus-tool-options__toggle" title="Mirror the selected door texture">
            <input type="checkbox" data-fa-nexus-door-flip {{#if doorControls.flip}}checked{{/if}} {{#if doorControls.disabled}}disabled{{/if}}>
            <span>Flip Texture</span>
          </label>
          <label class="fa-nexus-tool-options__toggle" title="Spawn a paired door leaf">
            <input type="checkbox" data-fa-nexus-door-double {{#if doorControls.double}}checked{{/if}} {{#if doorControls.disabled}}disabled{{/if}}>
            <span>Double Door</span>
          </label>
          <label class="fa-nexus-tool-options__toggle" title="Swap door endpoints (hinge flip)">
            <input type="checkbox" data-fa-nexus-door-direction-flip {{#if doorControls.directionFlip}}checked{{/if}} {{#if doorControls.disabled}}disabled{{/if}}>
            <span>Flip Hinge</span>
          </label>
        </div>

        <div class="fa-nexus-window-controls__selects">
          <label class="fa-nexus-window-controls__select">
            <span class="fa-nexus-tool-options__label">Animation</span>
            <select data-fa-nexus-door-animation {{#if doorControls.disabled}}disabled{{/if}}>
              {{#each doorControls.animations as |anim|}}
                <option value="{{anim.id}}" {{#if anim.selected}}selected{{/if}}>{{anim.label}}</option>
              {{/each}}
            </select>
          </label>
          <label class="fa-nexus-window-controls__select">
            <span class="fa-nexus-tool-options__label">Open Direction</span>
            <select data-fa-nexus-door-direction {{#if doorControls.disabled}}disabled{{/if}}>
              {{#each doorControls.directions as |dir|}}
                <option value="{{dir.value}}" {{#if dir.selected}}selected{{/if}}>{{dir.label}}</option>
              {{/each}}
            </select>
          </label>
        </div>

        {{!-- Door frame section --}}
        <div class="fa-nexus-window-controls__section">
          <span class="fa-nexus-window-controls__section-label">Door Frame</span>
          {{!-- Picker buttons (hidden in portal mode) --}}
          {{#unless doorControls.hideTexturePickers}}
          <div class="fa-nexus-window-controls__row">
            <button type="button"
                    class="fa-nexus-window-controls__pick"
                    data-fa-nexus-door-frame-pick
                    {{#if doorControls.disabled}}disabled{{/if}}>
              <i class="fas fa-border-all" aria-hidden="true"></i>
              <span>{{doorControls.frameLabel}}</span>
            </button>
            <button type="button"
                    class="fa-nexus-window-controls__clear"
                    data-fa-nexus-door-frame-clear
                    {{#if doorControls.disabled}}disabled{{/if}}>
              Clear
            </button>
          </div>
          {{/unless}}
          {{!-- Sliders (always visible when frameSettings exist) --}}
          {{#if doorControls.frameSettings}}
          <div class="fa-nexus-window-controls__element-settings" data-fa-nexus-door-frame-settings>
            <div class="fa-nexus-window-controls__slider-row">
              <div class="fa-nexus-window-controls__slider-header">
                <span class="fa-nexus-tool-options__label">Scale</span>
                <input type="number"
                       class="fa-nexus-tool-options__value"
                       min="{{doorControls.frameSettings.scaleMin}}"
                       max="{{doorControls.frameSettings.scaleMax}}"
                       step="{{doorControls.frameSettings.scaleStep}}"
                       value="{{doorControls.frameSettings.scale}}"
                       inputmode="decimal"
                       data-fa-nexus-door-frame-scale-display
                       title="{{doorControls.frameSettings.scaleDisplay}}"
                       {{#if doorControls.disabled}}disabled{{/if}}>
              </div>
              <input type="range"
                     min="{{doorControls.frameSettings.scaleMin}}"
                     max="{{doorControls.frameSettings.scaleMax}}"
                     step="{{doorControls.frameSettings.scaleStep}}"
                     value="{{doorControls.frameSettings.scale}}"
                     data-fa-nexus-door-frame-scale
                     {{#if doorControls.disabled}}disabled{{/if}}>
            </div>
            <div class="fa-nexus-window-controls__slider-row">
              <div class="fa-nexus-window-controls__slider-header">
                <span class="fa-nexus-tool-options__label">Offset X</span>
                <input type="number"
                       class="fa-nexus-tool-options__value"
                       min="{{doorControls.frameSettings.offsetMin}}"
                       max="{{doorControls.frameSettings.offsetMax}}"
                       step="{{doorControls.frameSettings.offsetStep}}"
                       value="{{doorControls.frameSettings.offsetX}}"
                       inputmode="decimal"
                       data-fa-nexus-door-frame-offset-x-display
                       title="{{doorControls.frameSettings.offsetXDisplay}}"
                       {{#if doorControls.disabled}}disabled{{/if}}>
              </div>
              <input type="range"
                     min="{{doorControls.frameSettings.offsetMin}}"
                     max="{{doorControls.frameSettings.offsetMax}}"
                     step="{{doorControls.frameSettings.offsetStep}}"
                     value="{{doorControls.frameSettings.offsetX}}"
                     data-fa-nexus-door-frame-offset-x
                     {{#if doorControls.disabled}}disabled{{/if}}>
            </div>
            <div class="fa-nexus-window-controls__slider-row">
              <div class="fa-nexus-window-controls__slider-header">
                <span class="fa-nexus-tool-options__label">Offset Y</span>
                <input type="number"
                       class="fa-nexus-tool-options__value"
                       min="{{doorControls.frameSettings.offsetMin}}"
                       max="{{doorControls.frameSettings.offsetMax}}"
                       step="{{doorControls.frameSettings.offsetStep}}"
                       value="{{doorControls.frameSettings.offsetY}}"
                       inputmode="decimal"
                       data-fa-nexus-door-frame-offset-y-display
                       title="{{doorControls.frameSettings.offsetYDisplay}}"
                       {{#if doorControls.disabled}}disabled{{/if}}>
              </div>
              <input type="range"
                     min="{{doorControls.frameSettings.offsetMin}}"
                     max="{{doorControls.frameSettings.offsetMax}}"
                     step="{{doorControls.frameSettings.offsetStep}}"
                     value="{{doorControls.frameSettings.offsetY}}"
                     data-fa-nexus-door-frame-offset-y
                     {{#if doorControls.disabled}}disabled{{/if}}>
            </div>
            <div class="fa-nexus-window-controls__slider-row">
              <div class="fa-nexus-window-controls__slider-header">
                <span class="fa-nexus-tool-options__label">Rotation</span>
                <input type="number"
                       class="fa-nexus-tool-options__value"
                       min="{{doorControls.frameSettings.rotationMin}}"
                       max="{{doorControls.frameSettings.rotationMax}}"
                       step="{{doorControls.frameSettings.rotationStep}}"
                       value="{{doorControls.frameSettings.rotation}}"
                       inputmode="decimal"
                       data-fa-nexus-door-frame-rotation-display
                       title="{{doorControls.frameSettings.rotationDisplay}}"
                       {{#if doorControls.frameSettings.rotationDisabled}}disabled{{/if}}>
              </div>
              <input type="range"
                     min="{{doorControls.frameSettings.rotationMin}}"
                     max="{{doorControls.frameSettings.rotationMax}}"
                     step="{{doorControls.frameSettings.rotationStep}}"
                     value="{{doorControls.frameSettings.rotation}}"
                     title="{{doorControls.frameSettings.rotationHint}}"
                     data-fa-nexus-door-frame-rotation
                     {{#if doorControls.frameSettings.rotationDisabled}}disabled{{/if}}>
            </div>
          </div>
          {{/if}}
        </div>
      </div>
    {{/if}}

    {{#if windowControls}}
      <div class="fa-nexus-tool-options__control fa-nexus-window-controls" data-fa-nexus-window-root>
        <div class="fa-nexus-tool-options__control-header">
          <span class="fa-nexus-tool-options__label">Window Options</span>
          <div class="fa-nexus-window-controls__selection-actions">
            <span class="fa-nexus-tool-options__value" data-fa-nexus-window-selection>{{windowControls.selectionLabel}}</span>
            <button type="button"
                    class="fa-nexus-icon-button"
                    data-fa-nexus-window-apply-default
                    title="Apply current window settings as defaults for new placements">
              <i class="fas fa-check" aria-hidden="true"></i>
            </button>
            <button type="button"
                    class="fa-nexus-icon-button"
                    data-fa-nexus-window-clear-selection
                    title="Clear current portal selection">
              <i class="fas fa-times" aria-hidden="true"></i>
            </button>
          </div>
        </div>

        {{!-- Animated window toggle --}}
        <div class="fa-nexus-window-controls__toggles">
          <label class="fa-nexus-tool-options__toggle" title="Use Foundry animated window instead of static texture">
            <input type="checkbox" data-fa-nexus-window-animated {{#if windowControls.animated}}checked{{/if}} {{#if windowControls.disabled}}disabled{{/if}}>
            <span>Animated Window</span>
          </label>
          <label class="fa-nexus-tool-options__toggle" title="Mirror window glass texture">
            <input type="checkbox" data-fa-nexus-window-flip {{#if windowControls.flip}}checked{{/if}} {{#if windowControls.disabled}}disabled{{/if}}>
            <span>Flip Texture</span>
          </label>
        </div>
        {{#if windowControls.animated}}
        <div class="fa-nexus-window-controls__selects">
          <label class="fa-nexus-window-controls__select">
            <span class="fa-nexus-tool-options__label">Animation</span>
            <select data-fa-nexus-window-animation {{#if windowControls.disabled}}disabled{{/if}}>
              {{#each windowControls.animations as |anim|}}
                <option value="{{anim.id}}" {{#if anim.selected}}selected{{/if}}>{{anim.label}}</option>
              {{/each}}
            </select>
          </label>
          <label class="fa-nexus-window-controls__select">
            <span class="fa-nexus-tool-options__label">Open Direction</span>
            <select data-fa-nexus-window-direction {{#if windowControls.disabled}}disabled{{/if}}>
              {{#each windowControls.directions as |dir|}}
                <option value="{{dir.value}}" {{#if dir.selected}}selected{{/if}}>{{dir.label}}</option>
              {{/each}}
            </select>
          </label>
        </div>
        <div class="fa-nexus-window-controls__toggles">
          <label class="fa-nexus-tool-options__toggle" title="Animate both panes">
            <input type="checkbox" data-fa-nexus-window-double {{#if windowControls.double}}checked{{/if}} {{#if windowControls.disabled}}disabled{{/if}}>
            <span>Double</span>
          </label>
          <label class="fa-nexus-tool-options__toggle" title="Swap window endpoints (hinge flip)">
            <input type="checkbox" data-fa-nexus-window-direction-flip {{#if windowControls.directionFlip}}checked{{/if}} {{#if windowControls.disabled}}disabled{{/if}}>
            <span>Flip Hinge</span>
          </label>
        </div>
        {{/if}}

        {{!-- Window Sill section --}}
        <div class="fa-nexus-window-controls__section">
          <span class="fa-nexus-window-controls__section-label">Window Sill</span>
          {{!-- Picker buttons (hidden in portal mode) --}}
          {{#unless windowControls.hideTexturePickers}}
          <div class="fa-nexus-window-controls__row">
            <button type="button"
                    class="fa-nexus-window-controls__pick"
                    data-fa-nexus-window-sill-pick
                    {{#if windowControls.disabled}}disabled{{/if}}>
              <i class="fas fa-layer-group" aria-hidden="true"></i>
              <span>{{windowControls.sillLabel}}</span>
            </button>
            <button type="button"
                    class="fa-nexus-window-controls__clear"
                    data-fa-nexus-window-sill-clear
                    {{#if windowControls.disabled}}disabled{{/if}}>
              Clear
            </button>
          </div>
          {{/unless}}
          {{!-- Sliders (always visible when sillSettings exist) --}}
          {{#if windowControls.sillSettings}}
          <div class="fa-nexus-window-controls__element-settings" data-fa-nexus-window-sill-settings>
            <div class="fa-nexus-window-controls__slider-row">
              <div class="fa-nexus-window-controls__slider-header">
                <span class="fa-nexus-tool-options__label">Scale</span>
                <input type="number"
                       class="fa-nexus-tool-options__value"
                       min="{{windowControls.sillSettings.scaleMin}}"
                       max="{{windowControls.sillSettings.scaleMax}}"
                       step="{{windowControls.sillSettings.scaleStep}}"
                       value="{{windowControls.sillSettings.scale}}"
                       inputmode="decimal"
                       data-fa-nexus-window-sill-scale-display
                       title="{{windowControls.sillSettings.scaleDisplay}}"
                       {{#if windowControls.disabled}}disabled{{/if}}>
              </div>
              <input type="range"
                     min="{{windowControls.sillSettings.scaleMin}}"
                     max="{{windowControls.sillSettings.scaleMax}}"
                     step="{{windowControls.sillSettings.scaleStep}}"
                     value="{{windowControls.sillSettings.scale}}"
                     data-fa-nexus-window-sill-scale
                     {{#if windowControls.disabled}}disabled{{/if}}>
            </div>
            <div class="fa-nexus-window-controls__slider-row">
              <div class="fa-nexus-window-controls__slider-header">
                <span class="fa-nexus-tool-options__label">Offset X</span>
                <input type="number"
                       class="fa-nexus-tool-options__value"
                       min="{{windowControls.sillSettings.offsetMin}}"
                       max="{{windowControls.sillSettings.offsetMax}}"
                       step="{{windowControls.sillSettings.offsetStep}}"
                       value="{{windowControls.sillSettings.offsetX}}"
                       inputmode="decimal"
                       data-fa-nexus-window-sill-offset-x-display
                       title="{{windowControls.sillSettings.offsetXDisplay}}"
                       {{#if windowControls.disabled}}disabled{{/if}}>
              </div>
              <input type="range"
                     min="{{windowControls.sillSettings.offsetMin}}"
                     max="{{windowControls.sillSettings.offsetMax}}"
                     step="{{windowControls.sillSettings.offsetStep}}"
                     value="{{windowControls.sillSettings.offsetX}}"
                     data-fa-nexus-window-sill-offset-x
                     {{#if windowControls.disabled}}disabled{{/if}}>
            </div>
            <div class="fa-nexus-window-controls__slider-row">
              <div class="fa-nexus-window-controls__slider-header">
                <span class="fa-nexus-tool-options__label">Offset Y</span>
                <input type="number"
                       class="fa-nexus-tool-options__value"
                       min="{{windowControls.sillSettings.offsetMin}}"
                       max="{{windowControls.sillSettings.offsetMax}}"
                       step="{{windowControls.sillSettings.offsetStep}}"
                       value="{{windowControls.sillSettings.offsetY}}"
                       inputmode="decimal"
                       data-fa-nexus-window-sill-offset-y-display
                       title="{{windowControls.sillSettings.offsetYDisplay}}"
                       {{#if windowControls.disabled}}disabled{{/if}}>
              </div>
              <input type="range"
                     min="{{windowControls.sillSettings.offsetMin}}"
                     max="{{windowControls.sillSettings.offsetMax}}"
                     step="{{windowControls.sillSettings.offsetStep}}"
                     value="{{windowControls.sillSettings.offsetY}}"
                     data-fa-nexus-window-sill-offset-y
                     {{#if windowControls.disabled}}disabled{{/if}}>
            </div>
          </div>
          {{/if}}
        </div>

        {{!-- Window texture picker (hidden in portal mode) --}}
        <div class="fa-nexus-window-controls__section">
          <span class="fa-nexus-window-controls__section-label">Window Texture</span>
          {{#unless windowControls.hideTexturePickers}}
          <div class="fa-nexus-window-controls__row">
            <button type="button"
                    class="fa-nexus-window-controls__pick"
                    data-fa-nexus-window-texture-pick
                    {{#if windowControls.disabled}}disabled{{/if}}>
              <i class="fas fa-border-all" aria-hidden="true"></i>
              <span>{{windowControls.textureLabel}}</span>
            </button>
            <button type="button"
                    class="fa-nexus-window-controls__clear"
                    data-fa-nexus-window-texture-clear
                    {{#if windowControls.disabled}}disabled{{/if}}>
              Clear
            </button>
          </div>
          {{/unless}}
          {{!-- Only show scale/offset sliders when NOT animated --}}
          {{#unless windowControls.animated}}
          {{#if windowControls.textureSettings}}
          <div class="fa-nexus-window-controls__element-settings" data-fa-nexus-window-texture-settings>
            <div class="fa-nexus-window-controls__slider-row">
              <div class="fa-nexus-window-controls__slider-header">
                <span class="fa-nexus-tool-options__label">Scale</span>
                <input type="number"
                       class="fa-nexus-tool-options__value"
                       min="{{windowControls.textureSettings.scaleMin}}"
                       max="{{windowControls.textureSettings.scaleMax}}"
                       step="{{windowControls.textureSettings.scaleStep}}"
                       value="{{windowControls.textureSettings.scale}}"
                       inputmode="decimal"
                       data-fa-nexus-window-texture-scale-display
                       title="{{windowControls.textureSettings.scaleDisplay}}"
                       {{#if windowControls.disabled}}disabled{{/if}}>
              </div>
              <input type="range"
                     min="{{windowControls.textureSettings.scaleMin}}"
                     max="{{windowControls.textureSettings.scaleMax}}"
                     step="{{windowControls.textureSettings.scaleStep}}"
                     value="{{windowControls.textureSettings.scale}}"
                     data-fa-nexus-window-texture-scale
                     {{#if windowControls.disabled}}disabled{{/if}}>
            </div>
            <div class="fa-nexus-window-controls__slider-row">
              <div class="fa-nexus-window-controls__slider-header">
                <span class="fa-nexus-tool-options__label">Offset X</span>
                <input type="number"
                       class="fa-nexus-tool-options__value"
                       min="{{windowControls.textureSettings.offsetMin}}"
                       max="{{windowControls.textureSettings.offsetMax}}"
                       step="{{windowControls.textureSettings.offsetStep}}"
                       value="{{windowControls.textureSettings.offsetX}}"
                       inputmode="decimal"
                       data-fa-nexus-window-texture-offset-x-display
                       title="{{windowControls.textureSettings.offsetXDisplay}}"
                       {{#if windowControls.disabled}}disabled{{/if}}>
              </div>
              <input type="range"
                     min="{{windowControls.textureSettings.offsetMin}}"
                     max="{{windowControls.textureSettings.offsetMax}}"
                     step="{{windowControls.textureSettings.offsetStep}}"
                     value="{{windowControls.textureSettings.offsetX}}"
                     data-fa-nexus-window-texture-offset-x
                     {{#if windowControls.disabled}}disabled{{/if}}>
            </div>
            <div class="fa-nexus-window-controls__slider-row">
              <div class="fa-nexus-window-controls__slider-header">
                <span class="fa-nexus-tool-options__label">Offset Y</span>
                <input type="number"
                       class="fa-nexus-tool-options__value"
                       min="{{windowControls.textureSettings.offsetMin}}"
                       max="{{windowControls.textureSettings.offsetMax}}"
                       step="{{windowControls.textureSettings.offsetStep}}"
                       value="{{windowControls.textureSettings.offsetY}}"
                       inputmode="decimal"
                       data-fa-nexus-window-texture-offset-y-display
                       title="{{windowControls.textureSettings.offsetYDisplay}}"
                       {{#if windowControls.disabled}}disabled{{/if}}>
              </div>
              <input type="range"
                     min="{{windowControls.textureSettings.offsetMin}}"
                     max="{{windowControls.textureSettings.offsetMax}}"
                     step="{{windowControls.textureSettings.offsetStep}}"
                     value="{{windowControls.textureSettings.offsetY}}"
                     data-fa-nexus-window-texture-offset-y
                     {{#if windowControls.disabled}}disabled{{/if}}>
            </div>
          </div>
          {{/if}}
          {{/unless}}
        </div>

        {{!-- Frame texture picker (hidden in portal mode) --}}
        <div class="fa-nexus-window-controls__section">
          <span class="fa-nexus-window-controls__section-label">Window Frame</span>
          {{#unless windowControls.hideTexturePickers}}
          <div class="fa-nexus-window-controls__row">
            <button type="button"
                    class="fa-nexus-window-controls__pick"
                    data-fa-nexus-window-frame-pick
                    {{#if windowControls.disabled}}disabled{{/if}}>
              <i class="fas fa-columns" aria-hidden="true"></i>
              <span>{{windowControls.frameLabel}}</span>
            </button>
            <button type="button"
                    class="fa-nexus-window-controls__clear"
                    data-fa-nexus-window-frame-clear
                    {{#if windowControls.disabled}}disabled{{/if}}>
              Clear
            </button>
          </div>
          {{/unless}}
          {{#if windowControls.frameSettings}}
          <div class="fa-nexus-window-controls__element-settings" data-fa-nexus-window-frame-settings>
            <div class="fa-nexus-window-controls__slider-row">
              <div class="fa-nexus-window-controls__slider-header">
                <span class="fa-nexus-tool-options__label">Scale</span>
                <input type="number"
                       class="fa-nexus-tool-options__value"
                       min="{{windowControls.frameSettings.scaleMin}}"
                       max="{{windowControls.frameSettings.scaleMax}}"
                       step="{{windowControls.frameSettings.scaleStep}}"
                       value="{{windowControls.frameSettings.scale}}"
                       inputmode="decimal"
                       data-fa-nexus-window-frame-scale-display
                       title="{{windowControls.frameSettings.scaleDisplay}}"
                       {{#if windowControls.disabled}}disabled{{/if}}>
              </div>
              <input type="range"
                     min="{{windowControls.frameSettings.scaleMin}}"
                     max="{{windowControls.frameSettings.scaleMax}}"
                     step="{{windowControls.frameSettings.scaleStep}}"
                     value="{{windowControls.frameSettings.scale}}"
                     data-fa-nexus-window-frame-scale
                     {{#if windowControls.disabled}}disabled{{/if}}>
            </div>
            <div class="fa-nexus-window-controls__slider-row">
              <div class="fa-nexus-window-controls__slider-header">
                <span class="fa-nexus-tool-options__label">Offset X</span>
                <input type="number"
                       class="fa-nexus-tool-options__value"
                       min="{{windowControls.frameSettings.offsetMin}}"
                       max="{{windowControls.frameSettings.offsetMax}}"
                       step="{{windowControls.frameSettings.offsetStep}}"
                       value="{{windowControls.frameSettings.offsetX}}"
                       inputmode="decimal"
                       data-fa-nexus-window-frame-offset-x-display
                       title="{{windowControls.frameSettings.offsetXDisplay}}"
                       {{#if windowControls.disabled}}disabled{{/if}}>
              </div>
              <input type="range"
                     min="{{windowControls.frameSettings.offsetMin}}"
                     max="{{windowControls.frameSettings.offsetMax}}"
                     step="{{windowControls.frameSettings.offsetStep}}"
                     value="{{windowControls.frameSettings.offsetX}}"
                     data-fa-nexus-window-frame-offset-x
                     {{#if windowControls.disabled}}disabled{{/if}}>
            </div>
            <div class="fa-nexus-window-controls__slider-row">
              <div class="fa-nexus-window-controls__slider-header">
                <span class="fa-nexus-tool-options__label">Offset Y</span>
                <input type="number"
                       class="fa-nexus-tool-options__value"
                       min="{{windowControls.frameSettings.offsetMin}}"
                       max="{{windowControls.frameSettings.offsetMax}}"
                       step="{{windowControls.frameSettings.offsetStep}}"
                       value="{{windowControls.frameSettings.offsetY}}"
                       inputmode="decimal"
                       data-fa-nexus-window-frame-offset-y-display
                       title="{{windowControls.frameSettings.offsetYDisplay}}"
                       {{#if windowControls.disabled}}disabled{{/if}}>
              </div>
              <input type="range"
                     min="{{windowControls.frameSettings.offsetMin}}"
                     max="{{windowControls.frameSettings.offsetMax}}"
                     step="{{windowControls.frameSettings.offsetStep}}"
                     value="{{windowControls.frameSettings.offsetY}}"
                     data-fa-nexus-window-frame-offset-y
                     {{#if windowControls.disabled}}disabled{{/if}}>
            </div>
            <div class="fa-nexus-window-controls__slider-row">
              <div class="fa-nexus-window-controls__slider-header">
                <span class="fa-nexus-tool-options__label">Rotation</span>
                <input type="number"
                       class="fa-nexus-tool-options__value"
                       min="{{windowControls.frameSettings.rotationMin}}"
                       max="{{windowControls.frameSettings.rotationMax}}"
                       step="{{windowControls.frameSettings.rotationStep}}"
                       value="{{windowControls.frameSettings.rotation}}"
                       inputmode="decimal"
                       data-fa-nexus-window-frame-rotation-display
                       title="{{windowControls.frameSettings.rotationDisplay}}"
                       {{#if windowControls.frameSettings.rotationDisabled}}disabled{{/if}}>
              </div>
              <input type="range"
                     min="{{windowControls.frameSettings.rotationMin}}"
                     max="{{windowControls.frameSettings.rotationMax}}"
                     step="{{windowControls.frameSettings.rotationStep}}"
                     value="{{windowControls.frameSettings.rotation}}"
                     title="{{windowControls.frameSettings.rotationHint}}"
                     data-fa-nexus-window-frame-rotation
                     {{#if windowControls.frameSettings.rotationDisabled}}disabled{{/if}}>
            </div>
          </div>
          {{/if}}
        </div>
      </div>
    {{/if}}

    {{#if texturePaint.available}}
      <div class="fa-nexus-tool-options__control fa-nexus-texture-tools" data-fa-nexus-texture-tools-root>
        <div class="fa-nexus-tool-options__control-header">
          <span class="fa-nexus-tool-options__label">Tool Mode</span>
          <span class="fa-nexus-tool-options__value" data-fa-nexus-texture-mode-label>{{texturePaint.modeLabel}}</span>
        </div>
        <div class="fa-nexus-texture-tools__mode-list">
          {{#each texturePaint.modes as |mode|}}
            <button type="button"
                    class="fa-nexus-texture-tools__mode {{#if mode.active}}is-active{{/if}}"
                    data-fa-nexus-texture-mode="{{mode.id}}"
                    aria-pressed="{{#if mode.active}}true{{else}}false{{/if}}"
                    title="{{mode.tooltip}}">
              {{#if mode.icon}}
                <i class="{{mode.icon}}" aria-hidden="true"></i>
              {{/if}}
              <span>{{mode.label}}</span>
            </button>
          {{/each}}
        </div>
        {{#if texturePaint.status}}
          <p class="fa-nexus-tool-options__hint fa-nexus-texture-tools__status" data-fa-nexus-texture-status>{{texturePaint.status}}</p>
        {{/if}}
        {{#if texturePaint.actions}}
          <div class="fa-nexus-texture-tools__actions">
            {{#each texturePaint.actions as |action|}}
              <button type="button"
                      class="fa-nexus-texture-tools__action {{#if action.primary}}is-primary{{/if}}"
                      data-fa-nexus-texture-action="{{action.id}}"
                      {{#if action.disabled}}disabled{{/if}}
                      title="{{action.tooltip}}">
                <span>{{action.label}}</span>
              </button>
            {{/each}}
          </div>
        {{/if}}
        {{#if texturePaint.hint}}
          <p class="fa-nexus-tool-options__hint fa-nexus-texture-tools__hint" data-fa-nexus-texture-hint>{{texturePaint.hint}}</p>
        {{/if}}
      </div>
      {{#if texturePaint.opacity.available}}
        <div class="fa-nexus-tool-options__control fa-nexus-texture-opacity" data-fa-nexus-texture-opacity-root>
          <div class="fa-nexus-tool-options__control-header">
            <span class="fa-nexus-tool-options__label">Tool Opacity</span>
            <input type="number"
                   class="fa-nexus-tool-options__value"
                   min="{{texturePaint.opacity.min}}"
                   max="{{texturePaint.opacity.max}}"
                   step="{{texturePaint.opacity.step}}"
                   value="{{texturePaint.opacity.value}}"
                   inputmode="decimal"
                   data-fa-nexus-texture-opacity-display
                   title="{{texturePaint.opacity.display}}"
                   {{#if texturePaint.opacity.disabled}}disabled{{/if}}>
          </div>
          <input type="range"
                 min="{{texturePaint.opacity.min}}"
                 max="{{texturePaint.opacity.max}}"
                 step="{{texturePaint.opacity.step}}"
                 value="{{texturePaint.opacity.value}}"
                 aria-label="Texture Fill Opacity"
                 data-fa-nexus-texture-opacity
                 {{#if texturePaint.opacity.disabled}}disabled{{/if}}>
          {{#if texturePaint.opacity.hint}}
            <p class="fa-nexus-tool-options__hint fa-nexus-texture-opacity__hint">{{texturePaint.opacity.hint}}</p>
          {{/if}}
        </div>
      {{/if}}
      {{#if textureBrush.available}}
        <div class="fa-nexus-tool-options__control fa-nexus-texture-brush" data-fa-nexus-texture-brush-root>
          <div class="fa-nexus-tool-options__control-header">
            <span class="fa-nexus-tool-options__label">Brush Settings</span>
          </div>
          <div class="fa-nexus-texture-offset__row">
            <span class="fa-nexus-texture-offset__axis">Brush</span>
          <input type="range"
                 min="{{textureBrush.brushSize.min}}"
                 max="{{textureBrush.brushSize.max}}"
                 step="{{textureBrush.brushSize.step}}"
                 value="{{textureBrush.brushSize.value}}"
                 aria-label="Brush size"
                 data-fa-nexus-texture-brush-size
                 {{#if textureBrush.brushSize.disabled}}disabled{{/if}}>
          <input type="number"
                 class="fa-nexus-tool-options__value"
                 min="{{textureBrush.brushSize.min}}"
                 max="{{textureBrush.brushSize.max}}"
                 step="{{textureBrush.brushSize.step}}"
                 value="{{textureBrush.brushSize.value}}"
                 inputmode="decimal"
                 data-fa-nexus-texture-brush-size-display
                 title="{{textureBrush.brushSize.display}}"
                 {{#if textureBrush.brushSize.disabled}}disabled{{/if}}>
        </div>
        <div class="fa-nexus-texture-offset__row">
          <span class="fa-nexus-texture-offset__axis">Tip %</span>
          <input type="range"
                 min="{{textureBrush.particleSize.min}}"
                 max="{{textureBrush.particleSize.max}}"
                 step="{{textureBrush.particleSize.step}}"
                 value="{{textureBrush.particleSize.value}}"
                 aria-label="Particle size"
                 data-fa-nexus-texture-particle-size
                 {{#if textureBrush.particleSize.disabled}}disabled{{/if}}>
          <input type="number"
                 class="fa-nexus-tool-options__value"
                 min="{{textureBrush.particleSize.min}}"
                 max="{{textureBrush.particleSize.max}}"
                 step="{{textureBrush.particleSize.step}}"
                 value="{{textureBrush.particleSize.value}}"
                 inputmode="decimal"
                 data-fa-nexus-texture-particle-size-display
                 title="{{textureBrush.particleSize.display}}"
                 {{#if textureBrush.particleSize.disabled}}disabled{{/if}}>
        </div>
        <div class="fa-nexus-texture-offset__row">
          <span class="fa-nexus-texture-offset__axis">Density</span>
          <input type="range"
                 min="{{textureBrush.particleDensity.min}}"
                 max="{{textureBrush.particleDensity.max}}"
                 step="{{textureBrush.particleDensity.step}}"
                 value="{{textureBrush.particleDensity.value}}"
                 aria-label="Particle density"
                 data-fa-nexus-texture-particle-density
                 {{#if textureBrush.particleDensity.disabled}}disabled{{/if}}>
          <input type="number"
                 class="fa-nexus-tool-options__value"
                 min="{{textureBrush.particleDensity.min}}"
                 max="{{textureBrush.particleDensity.max}}"
                 step="{{textureBrush.particleDensity.step}}"
                 value="{{textureBrush.particleDensity.value}}"
                 inputmode="decimal"
                 data-fa-nexus-texture-particle-density-display
                 title="{{textureBrush.particleDensity.display}}"
                 {{#if textureBrush.particleDensity.disabled}}disabled{{/if}}>
        </div>
        <div class="fa-nexus-texture-offset__row">
          <span class="fa-nexus-texture-offset__axis">Spray</span>
          <input type="range"
                 min="{{textureBrush.sprayDeviation.min}}"
                 max="{{textureBrush.sprayDeviation.max}}"
                 step="{{textureBrush.sprayDeviation.step}}"
                 value="{{textureBrush.sprayDeviation.value}}"
                 aria-label="Spray deviation"
                 data-fa-nexus-texture-spray-deviation
                 {{#if textureBrush.sprayDeviation.disabled}}disabled{{/if}}>
          <input type="number"
                 class="fa-nexus-tool-options__value"
                 min="{{textureBrush.sprayDeviation.min}}"
                 max="{{textureBrush.sprayDeviation.max}}"
                 step="{{textureBrush.sprayDeviation.step}}"
                 value="{{textureBrush.sprayDeviation.value}}"
                 inputmode="decimal"
                 data-fa-nexus-texture-spray-deviation-display
                 title="{{textureBrush.sprayDeviation.display}}"
                 {{#if textureBrush.sprayDeviation.disabled}}disabled{{/if}}>
        </div>
        <div class="fa-nexus-texture-offset__row">
          <span class="fa-nexus-texture-offset__axis">Spacing</span>
          <input type="range"
                 min="{{textureBrush.spacing.min}}"
                 max="{{textureBrush.spacing.max}}"
                 step="{{textureBrush.spacing.step}}"
                 value="{{textureBrush.spacing.value}}"
                 aria-label="Brush spacing"
                 data-fa-nexus-texture-brush-spacing
                 {{#if textureBrush.spacing.disabled}}disabled{{/if}}>
          <input type="number"
                 class="fa-nexus-tool-options__value"
                 min="{{textureBrush.spacing.min}}"
                 max="{{textureBrush.spacing.max}}"
                 step="{{textureBrush.spacing.step}}"
                 value="{{textureBrush.spacing.value}}"
                 inputmode="decimal"
                 data-fa-nexus-texture-brush-spacing-display
                 title="{{textureBrush.spacing.display}}"
                 {{#if textureBrush.spacing.disabled}}disabled{{/if}}>
        </div>
          {{#if textureBrush.hint}}
            <p class="fa-nexus-tool-options__hint fa-nexus-texture-offset__hint">{{textureBrush.hint}}</p>
          {{/if}}
        </div>
      {{/if}}
      {{#if heightMap.available}}
        <div class="fa-nexus-tool-options__control fa-nexus-height-map {{#if heightMap.collapsed}}is-collapsed{{/if}}" data-fa-nexus-height-map-root>
          <div class="fa-nexus-height-map__header">
            <button type="button"
                    class="fa-nexus-height-map__collapse"
                    data-fa-nexus-height-map-toggle
                    aria-expanded="{{#unless heightMap.collapsed}}true{{else}}false{{/unless}}"
                    title="{{#if heightMap.collapsed}}Expand height map settings{{else}}Collapse height map settings{{/if}}">
              <i class="fas fa-chevron-down" aria-hidden="true"></i>
            </button>
            <span class="fa-nexus-tool-options__label">Height Map Painting</span>
          </div>
          <div class="fa-nexus-height-map__body" data-fa-nexus-height-map-body>
            {{#if heightMap.hasToggles}}
              <div class="fa-nexus-height-map__toggles">
                {{#each heightMap.toggles as |toggle|}}
                  <label class="fa-nexus-tool-options__toggle" title="{{toggle.tooltip}}">
                    <input type="checkbox" data-fa-nexus-custom-toggle="{{toggle.id}}" {{#if toggle.enabled}}checked{{/if}} {{#if toggle.disabled}}disabled{{/if}}>
                    <span>{{toggle.label}}</span>
                  </label>
                {{/each}}
              </div>
            {{/if}}
            {{#if heightBrush.available}}
              <div class="fa-nexus-height-map__brush fa-nexus-height-brush" data-fa-nexus-height-brush-root>
                <div class="fa-nexus-tool-options__control-header">
                  <span class="fa-nexus-tool-options__label">{{#if heightBrush.label}}{{heightBrush.label}}{{else}}Height Threshold{{/if}}</span>
                </div>
                <div class="fa-nexus-texture-offset__row">
                  <span class="fa-nexus-texture-offset__axis">Min</span>
                  <input type="range"
                         min="{{heightBrush.min.min}}"
                         max="{{heightBrush.min.max}}"
                         step="{{heightBrush.min.step}}"
                         value="{{heightBrush.min.value}}"
                         aria-label="Height threshold minimum"
                         data-fa-nexus-height-threshold-min
                         {{#if heightBrush.min.disabled}}disabled{{/if}}>
                  <input type="number"
                         class="fa-nexus-tool-options__value"
                         min="{{heightBrush.min.min}}"
                         max="{{heightBrush.min.max}}"
                         step="{{heightBrush.min.step}}"
                         value="{{heightBrush.min.value}}"
                         inputmode="decimal"
                         data-fa-nexus-height-threshold-min-display
                         title="{{heightBrush.min.display}}"
                         {{#if heightBrush.min.disabled}}disabled{{/if}}>
                </div>
                <div class="fa-nexus-texture-offset__row">
                  <span class="fa-nexus-texture-offset__axis">Max</span>
                  <input type="range"
                         min="{{heightBrush.max.min}}"
                         max="{{heightBrush.max.max}}"
                         step="{{heightBrush.max.step}}"
                         value="{{heightBrush.max.value}}"
                         aria-label="Height threshold maximum"
                         data-fa-nexus-height-threshold-max
                         {{#if heightBrush.max.disabled}}disabled{{/if}}>
                  <input type="number"
                         class="fa-nexus-tool-options__value"
                         min="{{heightBrush.max.min}}"
                         max="{{heightBrush.max.max}}"
                         step="{{heightBrush.max.step}}"
                         value="{{heightBrush.max.value}}"
                         inputmode="decimal"
                         data-fa-nexus-height-threshold-max-display
                         title="{{heightBrush.max.display}}"
                         {{#if heightBrush.max.disabled}}disabled{{/if}}>
                </div>
                {{#if heightBrush.hint}}
                  <p class="fa-nexus-tool-options__hint fa-nexus-texture-offset__hint">{{heightBrush.hint}}</p>
                {{/if}}
                {{#if heightBrush.tuningLabel}}
                  <div class="fa-nexus-tool-options__control-header fa-nexus-height-brush__tuning">
                    <span class="fa-nexus-tool-options__label">{{heightBrush.tuningLabel}}</span>
                  </div>
                {{/if}}
                {{#if heightBrush.contrast}}
                  <div class="fa-nexus-texture-offset__row">
                    <span class="fa-nexus-texture-offset__axis">Contrast</span>
                    <input type="range"
                           min="{{heightBrush.contrast.min}}"
                           max="{{heightBrush.contrast.max}}"
                           step="{{heightBrush.contrast.step}}"
                           value="{{heightBrush.contrast.value}}"
                           aria-label="Height map contrast"
                           data-fa-nexus-height-contrast
                           {{#if heightBrush.contrast.disabled}}disabled{{/if}}>
                    <input type="number"
                           class="fa-nexus-tool-options__value"
                           min="{{heightBrush.contrast.min}}"
                           max="{{heightBrush.contrast.max}}"
                           step="{{heightBrush.contrast.step}}"
                           value="{{heightBrush.contrast.value}}"
                           inputmode="decimal"
                           data-fa-nexus-height-contrast-display
                           title="{{heightBrush.contrast.display}}"
                           {{#if heightBrush.contrast.disabled}}disabled{{/if}}>
                  </div>
                {{/if}}
                {{#if heightBrush.lift}}
                  <div class="fa-nexus-texture-offset__row">
                    <span class="fa-nexus-texture-offset__axis">Lift</span>
                    <input type="range"
                           min="{{heightBrush.lift.min}}"
                           max="{{heightBrush.lift.max}}"
                           step="{{heightBrush.lift.step}}"
                           value="{{heightBrush.lift.value}}"
                           aria-label="Height map lift"
                           data-fa-nexus-height-lift
                           {{#if heightBrush.lift.disabled}}disabled{{/if}}>
                    <input type="number"
                           class="fa-nexus-tool-options__value"
                           min="{{heightBrush.lift.min}}"
                           max="{{heightBrush.lift.max}}"
                           step="{{heightBrush.lift.step}}"
                           value="{{heightBrush.lift.value}}"
                           inputmode="decimal"
                           data-fa-nexus-height-lift-display
                           title="{{heightBrush.lift.display}}"
                           {{#if heightBrush.lift.disabled}}disabled{{/if}}>
                  </div>
                {{/if}}
                {{#if heightBrush.tuningHint}}
                  <p class="fa-nexus-tool-options__hint fa-nexus-texture-offset__hint">{{heightBrush.tuningHint}}</p>
                {{/if}}
              </div>
            {{/if}}
          </div>
        </div>
      {{/if}}
      {{#if layerOpacity.available}}
        <div class="fa-nexus-tool-options__control fa-nexus-texture-layer" data-fa-nexus-texture-layer-root>
          <div class="fa-nexus-tool-options__control-header">
            <span class="fa-nexus-tool-options__label">Texture Opacity</span>
            <input type="number"
                   class="fa-nexus-tool-options__value"
                   min="{{layerOpacity.min}}"
                   max="{{layerOpacity.max}}"
                   step="{{layerOpacity.step}}"
                   value="{{layerOpacity.value}}"
                   inputmode="decimal"
                   data-fa-nexus-texture-layer-display
                   title="{{layerOpacity.display}}"
                   {{#if layerOpacity.disabled}}disabled{{/if}}>
          </div>
          <input type="range"
                 min="{{layerOpacity.min}}"
                 max="{{layerOpacity.max}}"
                 step="{{layerOpacity.step}}"
                 value="{{layerOpacity.value}}"
                 aria-label="Texture Opacity"
                 data-fa-nexus-texture-layer>
          {{#if layerOpacity.hint}}
            <p class="fa-nexus-tool-options__hint fa-nexus-texture-layer__hint">{{layerOpacity.hint}}</p>
          {{/if}}
        </div>
      {{/if}}
      {{#if textureOffset.available}}
        <div class="fa-nexus-tool-options__control fa-nexus-texture-offset" data-fa-nexus-texture-offset-root>
          <div class="fa-nexus-tool-options__control-header">
            <span class="fa-nexus-tool-options__label">Texture Offset</span>
          </div>
          <div class="fa-nexus-texture-offset__row">
            <span class="fa-nexus-texture-offset__axis">X</span>
          <input type="range"
                 min="{{textureOffset.x.min}}"
                 max="{{textureOffset.x.max}}"
                 step="{{textureOffset.x.step}}"
                 value="{{textureOffset.x.value}}"
                 aria-label="Texture Offset X"
                 data-fa-nexus-texture-offset-x
                 {{#if textureOffset.x.disabled}}disabled{{/if}}>
            <input type="number"
                   class="fa-nexus-tool-options__value"
                   min="{{textureOffset.x.min}}"
                   max="{{textureOffset.x.max}}"
                   step="{{textureOffset.x.step}}"
                   value="{{textureOffset.x.value}}"
                   inputmode="decimal"
                   data-fa-nexus-texture-offset-x-display
                   title="{{textureOffset.x.display}}"
                   {{#if textureOffset.x.disabled}}disabled{{/if}}>
          </div>
          <div class="fa-nexus-texture-offset__row">
            <span class="fa-nexus-texture-offset__axis">Y</span>
          <input type="range"
                 min="{{textureOffset.y.min}}"
                 max="{{textureOffset.y.max}}"
                 step="{{textureOffset.y.step}}"
                 value="{{textureOffset.y.value}}"
                 aria-label="Texture Offset Y"
                 data-fa-nexus-texture-offset-y
                 {{#if textureOffset.y.disabled}}disabled{{/if}}>
            <input type="number"
                   class="fa-nexus-tool-options__value"
                   min="{{textureOffset.y.min}}"
                   max="{{textureOffset.y.max}}"
                   step="{{textureOffset.y.step}}"
                   value="{{textureOffset.y.value}}"
                   inputmode="decimal"
                   data-fa-nexus-texture-offset-y-display
                   title="{{textureOffset.y.display}}"
                   {{#if textureOffset.y.disabled}}disabled{{/if}}>
          </div>
          {{#if textureOffset.hint}}
            <p class="fa-nexus-tool-options__hint fa-nexus-texture-offset__hint">{{textureOffset.hint}}</p>
          {{/if}}
        </div>
      {{/if}}
    {{/if}}
    {{#if pathAppearance.available}}
      <div class="fa-nexus-tool-options__section">
        <div class="fa-nexus-tool-options__control-header">
          <span class="fa-nexus-tool-options__label">Path Appearance</span>
        </div>
        {{#if pathAppearance.hint}}
          <p class="fa-nexus-tool-options__hint">{{pathAppearance.hint}}</p>
        {{/if}}
        {{#if pathAppearance.layerOpacity.available}}
          <div class="fa-nexus-tool-options__control fa-nexus-path-opacity" data-fa-nexus-path-opacity-root>
            <div class="fa-nexus-tool-options__control-header">
              <span class="fa-nexus-tool-options__label">Path Opacity</span>
              <input type="number"
                     class="fa-nexus-tool-options__value"
                     min="{{pathAppearance.layerOpacity.min}}"
                     max="{{pathAppearance.layerOpacity.max}}"
                     step="{{pathAppearance.layerOpacity.step}}"
                     value="{{pathAppearance.layerOpacity.value}}"
                     inputmode="decimal"
                     data-fa-nexus-path-opacity-display
                     title="{{pathAppearance.layerOpacity.display}}"
                     {{#if pathAppearance.layerOpacity.disabled}}disabled{{/if}}>
            </div>
            <input type="range"
                   min="{{pathAppearance.layerOpacity.min}}"
                   max="{{pathAppearance.layerOpacity.max}}"
                   step="{{pathAppearance.layerOpacity.step}}"
                   value="{{pathAppearance.layerOpacity.value}}"
                   aria-label="Path Opacity"
                   data-fa-nexus-path-opacity
                   {{#if pathAppearance.layerOpacity.disabled}}disabled{{/if}}>
            {{#if pathAppearance.layerOpacity.hint}}
              <p class="fa-nexus-tool-options__hint fa-nexus-texture-layer__hint">{{pathAppearance.layerOpacity.hint}}</p>
            {{/if}}
          </div>
        {{/if}}
        {{#if pathAppearance.scale.available}}
          <div class="fa-nexus-tool-options__control fa-nexus-path-scale" data-fa-nexus-path-scale-root>
            <div class="fa-nexus-tool-options__control-header">
              <span class="fa-nexus-tool-options__label">Path Scale</span>
              <input type="number"
                     class="fa-nexus-tool-options__value"
                     min="{{pathAppearance.scale.min}}"
                     max="{{pathAppearance.scale.max}}"
                     step="{{pathAppearance.scale.step}}"
                     value="{{pathAppearance.scale.value}}"
                     inputmode="decimal"
                     data-fa-nexus-path-scale-display
                     title="{{pathAppearance.scale.display}}"
                     {{#if pathAppearance.scale.disabled}}disabled{{/if}}>
            </div>
            <input type="range"
                   min="{{pathAppearance.scale.min}}"
                   max="{{pathAppearance.scale.max}}"
                   step="{{pathAppearance.scale.step}}"
                   value="{{pathAppearance.scale.value}}"
                   aria-label="Path Scale"
                   data-fa-nexus-path-scale
                   {{#if pathAppearance.scale.disabled}}disabled{{/if}}>
          </div>
        {{/if}}
        {{#if pathAppearance.textureOffset.available}}
          <div class="fa-nexus-tool-options__control fa-nexus-path-offset" data-fa-nexus-path-offset-root>
            <div class="fa-nexus-tool-options__control-header">
              <span class="fa-nexus-tool-options__label">Texture Offset</span>
            </div>
            <div class="fa-nexus-texture-offset__row">
              <span class="fa-nexus-texture-offset__axis">X</span>
              <input type="range"
                     min="{{pathAppearance.textureOffset.x.min}}"
                     max="{{pathAppearance.textureOffset.x.max}}"
                     step="{{pathAppearance.textureOffset.x.step}}"
                     value="{{pathAppearance.textureOffset.x.value}}"
                     aria-label="Texture Offset X"
                     data-fa-nexus-path-offset-x
                     {{#if pathAppearance.textureOffset.x.disabled}}disabled{{/if}}>
              <input type="number"
                     class="fa-nexus-tool-options__value"
                     min="{{pathAppearance.textureOffset.x.min}}"
                     max="{{pathAppearance.textureOffset.x.max}}"
                     step="{{pathAppearance.textureOffset.x.step}}"
                     value="{{pathAppearance.textureOffset.x.value}}"
                     inputmode="decimal"
                     data-fa-nexus-path-offset-x-display
                     title="{{pathAppearance.textureOffset.x.display}}"
                     {{#if pathAppearance.textureOffset.x.disabled}}disabled{{/if}}>
            </div>
            <div class="fa-nexus-texture-offset__row">
              <span class="fa-nexus-texture-offset__axis">Y</span>
              <input type="range"
                     min="{{pathAppearance.textureOffset.y.min}}"
                     max="{{pathAppearance.textureOffset.y.max}}"
                     step="{{pathAppearance.textureOffset.y.step}}"
                     value="{{pathAppearance.textureOffset.y.value}}"
                     aria-label="Texture Offset Y"
                     data-fa-nexus-path-offset-y
                     {{#if pathAppearance.textureOffset.y.disabled}}disabled{{/if}}>
              <input type="number"
                     class="fa-nexus-tool-options__value"
                     min="{{pathAppearance.textureOffset.y.min}}"
                     max="{{pathAppearance.textureOffset.y.max}}"
                     step="{{pathAppearance.textureOffset.y.step}}"
                     value="{{pathAppearance.textureOffset.y.value}}"
                     inputmode="decimal"
                     data-fa-nexus-path-offset-y-display
                     title="{{pathAppearance.textureOffset.y.display}}"
                     {{#if pathAppearance.textureOffset.y.disabled}}disabled{{/if}}>
            </div>
            {{#if pathAppearance.textureOffset.hint}}
              <p class="fa-nexus-tool-options__hint fa-nexus-texture-offset__hint">{{pathAppearance.textureOffset.hint}}</p>
            {{/if}}
          </div>
        {{/if}}
        {{#if pathAppearance.tension.available}}
          <div class="fa-nexus-tool-options__control fa-nexus-path-tension" data-fa-nexus-path-tension-root>
            <div class="fa-nexus-tool-options__control-header">
              <span class="fa-nexus-tool-options__label">Path Tension</span>
              <input type="number"
                     class="fa-nexus-tool-options__value"
                     min="{{pathAppearance.tension.min}}"
                     max="{{pathAppearance.tension.max}}"
                     step="{{pathAppearance.tension.step}}"
                     value="{{pathAppearance.tension.value}}"
                     inputmode="decimal"
                     data-fa-nexus-path-tension-display
                     title="{{pathAppearance.tension.display}}"
                     {{#if pathAppearance.tension.disabled}}disabled{{/if}}>
            </div>
            <input type="range"
                   min="{{pathAppearance.tension.min}}"
                   max="{{pathAppearance.tension.max}}"
                   step="{{pathAppearance.tension.step}}"
                   value="{{pathAppearance.tension.value}}"
                   aria-label="Path Tension"
                   data-fa-nexus-path-tension
                   {{#if pathAppearance.tension.disabled}}disabled{{/if}}>
          </div>
        {{/if}}
        {{#if pathAppearance.showWidthTangents.available}}
          <label class="fa-nexus-tool-options__toggle" title="{{pathAppearance.showWidthTangents.tooltip}}" data-fa-nexus-show-width-tangents-root>
            <input type="checkbox" data-fa-nexus-show-width-tangents {{#if pathAppearance.showWidthTangents.enabled}}checked{{/if}} {{#if pathAppearance.showWidthTangents.disabled}}disabled{{/if}}>
            <span>{{pathAppearance.showWidthTangents.label}}</span>
          </label>
        {{/if}}
      </div>
    {{/if}}

    {{#if fillElevation.available}}
      <div class="fa-nexus-tool-options__section">
        <div class="fa-nexus-tool-options__control fa-nexus-fill-elevation" data-fa-nexus-fill-elevation-root>
          <div class="fa-nexus-tool-options__control-header">
            <span class="fa-nexus-tool-options__label">{{fillElevation.label}}</span>
            <span class="fa-nexus-tool-options__value" data-fa-nexus-fill-elevation-display>{{fillElevation.display}}</span>
          </div>
          <div class="fa-nexus-fill-elevation__input-row">
            <input type="number"
                   class="fa-nexus-fill-elevation__input"
                   min="{{fillElevation.min}}"
                   max="{{fillElevation.max}}"
                   step="{{fillElevation.step}}"
                   value="{{fillElevation.value}}"
                   inputmode="decimal"
                   aria-label="{{fillElevation.label}}"
                   data-fa-nexus-fill-elevation-input
                   {{#if fillElevation.disabled}}disabled{{/if}}>
          </div>
          {{#if fillElevation.hint}}
            <p class="fa-nexus-tool-options__hint">{{fillElevation.hint}}</p>
          {{/if}}
        </div>
      </div>
    {{/if}}

    {{#if fillTexture.available}}
      {{#if fillTexture.offset.available}}
        <div class="fa-nexus-tool-options__control fa-nexus-texture-offset" data-fa-nexus-fill-offset-root>
          <div class="fa-nexus-tool-options__control-header">
            <span class="fa-nexus-tool-options__label">{{fillTexture.offset.label}}</span>
          </div>
          <div class="fa-nexus-texture-offset__row">
            <span class="fa-nexus-texture-offset__axis">X</span>
          <input type="range"
                 min="{{fillTexture.offset.x.min}}"
                 max="{{fillTexture.offset.x.max}}"
                 step="{{fillTexture.offset.x.step}}"
                 value="{{fillTexture.offset.x.value}}"
                 aria-label="Fill Texture Offset X"
                 data-fa-nexus-fill-offset-x
                 {{#if fillTexture.offset.x.disabled}}disabled{{/if}}>
            <input type="number"
                   class="fa-nexus-tool-options__value"
                   min="{{fillTexture.offset.x.min}}"
                   max="{{fillTexture.offset.x.max}}"
                   step="{{fillTexture.offset.x.step}}"
                   value="{{fillTexture.offset.x.value}}"
                   inputmode="decimal"
                   data-fa-nexus-fill-offset-x-display
                   title="{{fillTexture.offset.x.display}}"
                   {{#if fillTexture.offset.x.disabled}}disabled{{/if}}>
          </div>
          <div class="fa-nexus-texture-offset__row">
            <span class="fa-nexus-texture-offset__axis">Y</span>
          <input type="range"
                 min="{{fillTexture.offset.y.min}}"
                 max="{{fillTexture.offset.y.max}}"
                 step="{{fillTexture.offset.y.step}}"
                 value="{{fillTexture.offset.y.value}}"
                 aria-label="Fill Texture Offset Y"
                 data-fa-nexus-fill-offset-y
                 {{#if fillTexture.offset.y.disabled}}disabled{{/if}}>
            <input type="number"
                   class="fa-nexus-tool-options__value"
                   min="{{fillTexture.offset.y.min}}"
                   max="{{fillTexture.offset.y.max}}"
                   step="{{fillTexture.offset.y.step}}"
                   value="{{fillTexture.offset.y.value}}"
                   inputmode="decimal"
                   data-fa-nexus-fill-offset-y-display
                   title="{{fillTexture.offset.y.display}}"
                   {{#if fillTexture.offset.y.disabled}}disabled{{/if}}>
          </div>
          {{#if fillTexture.offset.hint}}
            <p class="fa-nexus-tool-options__hint fa-nexus-texture-offset__hint">{{fillTexture.offset.hint}}</p>
          {{/if}}
        </div>
      {{/if}}
      {{#if scale.available}}
        <div class="fa-nexus-tool-options__control fa-nexus-scale" data-fa-nexus-scale-root>
          <div class="fa-nexus-tool-options__control-header">
            <span class="fa-nexus-tool-options__label">{{#if scale.label}}{{scale.label}}{{else}}Scale{{/if}}</span>
            <input type="number"
                   class="fa-nexus-tool-options__value"
                   min="{{scale.min}}"
                   max="{{scale.max}}"
                   step="{{scale.step}}"
                   value="{{scale.value}}"
                   inputmode="decimal"
                   data-fa-nexus-scale-display
                   title="{{scale.display}}"
                   {{#if scale.disabled}}disabled{{/if}}>
          </div>
          <div class="fa-nexus-scale__body">
            <input type="range"
                   min="{{scale.min}}"
                   max="{{scale.max}}"
                   step="{{scale.step}}"
                   value="{{scale.value}}"
                   aria-label="Scale"
                   data-fa-nexus-scale-base>
            {{#if scale.randomButtonVisible}}
              <button type="button"
                      class="fa-nexus-scale__random {{#if scale.randomEnabled}}is-active{{/if}}"
                      data-fa-nexus-scale-random
                      aria-pressed="{{scale.randomEnabled}}"
                      title="{{scale.randomTooltip}}">
                <i class="fas fa-random" aria-hidden="true"></i>
                <span>{{scale.randomLabel}}</span>
              </button>
            {{/if}}
          </div>
          {{#if scale.randomEnabled}}
            <div class="fa-nexus-scale__strength" data-fa-nexus-scale-strength-row>
              <span class="fa-nexus-scale__strength-label">Strength</span>
              <input type="range"
                     min="{{scale.strengthMin}}"
                     max="{{scale.strengthMax}}"
                     step="{{scale.strengthStep}}"
                     value="{{scale.strength}}"
                     aria-label="Random scale strength"
                     data-fa-nexus-scale-strength>
              <input type="number"
                     class="fa-nexus-scale__strength-value"
                     min="{{scale.strengthMin}}"
                     max="{{scale.strengthMax}}"
                     step="{{scale.strengthStep}}"
                     value="{{scale.strength}}"
                     inputmode="decimal"
                     data-fa-nexus-scale-strength-label
                     title="{{scale.strengthDisplay}}">
            </div>
          {{/if}}
          {{#if scale.randomHint}}
            <p class="fa-nexus-tool-options__hint fa-nexus-scale__hint">{{scale.randomHint}}</p>
          {{/if}}
        </div>
      {{/if}}

      {{#if rotation.available}}
        <div class="fa-nexus-tool-options__control fa-nexus-rotation" data-fa-nexus-rotation-root>
          <div class="fa-nexus-tool-options__control-header">
            <span class="fa-nexus-tool-options__label">{{#if rotation.label}}{{rotation.label}}{{else}}Rotation{{/if}}</span>
            <input type="number"
                   class="fa-nexus-tool-options__value"
                   min="{{rotation.min}}"
                   max="{{rotation.max}}"
                   step="{{rotation.step}}"
                   value="{{rotation.value}}"
                   inputmode="decimal"
                   data-fa-nexus-rotation-display
                   title="{{rotation.display}}"
                   {{#if rotation.disabled}}disabled{{/if}}>
          </div>
          <div class="fa-nexus-rotation__body">
            <input type="range"
                   min="{{rotation.min}}"
                   max="{{rotation.max}}"
                   step="{{rotation.step}}"
                   value="{{rotation.value}}"
                   aria-label="Rotation"
                   data-fa-nexus-rotation-base>
            {{#if rotation.randomButtonVisible}}
              <button type="button"
                      class="fa-nexus-rotation__random {{#if rotation.randomEnabled}}is-active{{/if}}"
                      data-fa-nexus-rotation-random
                      aria-pressed="{{rotation.randomEnabled}}"
                      title="{{rotation.randomTooltip}}">
                <i class="fas fa-random" aria-hidden="true"></i>
                <span>{{rotation.randomLabel}}</span>
              </button>
            {{/if}}
          </div>
          {{#if rotation.randomEnabled}}
            <div class="fa-nexus-rotation__strength" data-fa-nexus-rotation-strength-row>
              <span class="fa-nexus-rotation__strength-label">Strength</span>
              <input type="range"
                     min="{{rotation.strengthMin}}"
                     max="{{rotation.strengthMax}}"
                     step="{{rotation.strengthStep}}"
                     value="{{rotation.strength}}"
                     aria-label="Random rotation strength"
                     data-fa-nexus-rotation-strength>
              <input type="number"
                     class="fa-nexus-rotation__strength-value"
                     min="{{rotation.strengthMin}}"
                     max="{{rotation.strengthMax}}"
                     step="{{rotation.strengthStep}}"
                     value="{{rotation.strength}}"
                     inputmode="decimal"
                     data-fa-nexus-rotation-strength-label
                     title="{{rotation.strengthDisplay}}">
            </div>
          {{/if}}
          {{#if rotation.randomHint}}
            <p class="fa-nexus-tool-options__hint fa-nexus-rotation__hint">{{rotation.randomHint}}</p>
          {{/if}}
        </div>
      {{/if}}
    {{/if}}

    {{#if flip.available}}
      <div class="fa-nexus-tool-options__control fa-nexus-flip" data-fa-nexus-flip-root>
        <div class="fa-nexus-tool-options__control-header">
          <span class="fa-nexus-tool-options__label">Flip / Mirror</span>
          <span class="fa-nexus-flip__status">
            <span class="fa-nexus-tool-options__value" data-fa-nexus-flip-display>{{flip.display}}</span>
            {{#if flip.previewDisplay}}
              <span class="fa-nexus-flip__preview" data-fa-nexus-flip-preview>{{flip.previewDisplay}}</span>
            {{/if}}
          </span>
        </div>
        <div class="fa-nexus-flip__body">
          <div class="fa-nexus-flip__axes">
            <div class="fa-nexus-flip__axis">
              <button type="button"
                      class="fa-nexus-flip__button {{#if flip.horizontal.active}}is-active{{/if}} {{#if flip.horizontal.previewDiff}}has-preview-diff{{/if}}"
                      data-fa-nexus-flip-horizontal
                      aria-pressed="{{flip.horizontal.active}}"
                      aria-label="{{flip.horizontal.aria}}"
                      title="{{flip.horizontal.tooltip}}"
                      {{#if flip.horizontal.disabled}}disabled{{/if}}>
                <span>{{flip.horizontal.label}}</span>
              </button>
              {{#if flip.horizontal.randomButtonVisible}}
                <button type="button"
                        class="fa-nexus-flip__random {{#if flip.horizontal.randomEnabled}}is-active{{/if}} {{#if flip.horizontal.randomPreviewDiff}}has-preview-diff{{/if}}"
                        data-fa-nexus-flip-horizontal-random
                        aria-pressed="{{flip.horizontal.randomEnabled}}"
                        aria-label="{{flip.horizontal.randomAria}}"
                        title="{{flip.horizontal.randomTooltip}}"
                        {{#if flip.horizontal.randomDisabled}}disabled{{/if}}>
                  <i class="fas fa-random" aria-hidden="true"></i>
                  <span>{{flip.horizontal.randomLabel}}</span>
                </button>
              {{/if}}
            </div>
            <div class="fa-nexus-flip__axis">
              <button type="button"
                      class="fa-nexus-flip__button {{#if flip.vertical.active}}is-active{{/if}} {{#if flip.vertical.previewDiff}}has-preview-diff{{/if}}"
                      data-fa-nexus-flip-vertical
                      aria-pressed="{{flip.vertical.active}}"
                      aria-label="{{flip.vertical.aria}}"
                      title="{{flip.vertical.tooltip}}"
                      {{#if flip.vertical.disabled}}disabled{{/if}}>
                <span>{{flip.vertical.label}}</span>
              </button>
              {{#if flip.vertical.randomButtonVisible}}
                <button type="button"
                        class="fa-nexus-flip__random {{#if flip.vertical.randomEnabled}}is-active{{/if}} {{#if flip.vertical.randomPreviewDiff}}has-preview-diff{{/if}}"
                        data-fa-nexus-flip-vertical-random
                        aria-pressed="{{flip.vertical.randomEnabled}}"
                        aria-label="{{flip.vertical.randomAria}}"
                        title="{{flip.vertical.randomTooltip}}"
                        {{#if flip.vertical.randomDisabled}}disabled{{/if}}>
                  <i class="fas fa-random" aria-hidden="true"></i>
                  <span>{{flip.vertical.randomLabel}}</span>
                </button>
              {{/if}}
            </div>
          </div>
        </div>
        {{#if flip.randomHint}}
          <p class="fa-nexus-tool-options__hint fa-nexus-flip__hint">{{flip.randomHint}}</p>
        {{/if}}
      </div>
    {{/if}}

    {{#if pathFeather.available}}
      <div class="fa-nexus-tool-options__control fa-nexus-path-feather" data-fa-nexus-path-feather>
        <div class="fa-nexus-tool-options__control-header">
          <span class="fa-nexus-tool-options__label">Shrink Start &amp; End</span>
          <span class="fa-nexus-tool-options__value">{{pathFeather.unitLabel}}</span>
        </div>
        <div class="fa-nexus-path-feather__section">
          <span class="fa-nexus-path-feather__title">Start</span>
          <label class="fa-nexus-path-feather__toggle">
            <input type="checkbox"
                   data-fa-nexus-feather-start-toggle
                   {{#if pathFeather.start.enabled}}checked{{/if}}>
            <span>Shrink Start</span>
          </label>
          <div class="fa-nexus-path-feather__slider">
            <span class="fa-nexus-path-feather__slider-label">Length</span>
            <input type="range"
                   min="{{pathFeather.start.length.min}}"
                   max="{{pathFeather.start.length.max}}"
                   step="{{pathFeather.start.length.step}}"
                   value="{{pathFeather.start.length.value}}"
                   data-fa-nexus-feather-start-length
                   {{#if pathFeather.start.length.disabled}}disabled{{/if}}>
            <input type="number"
                   class="fa-nexus-path-feather__value"
                   min="{{pathFeather.start.length.min}}"
                   max="{{pathFeather.start.length.max}}"
                   step="{{pathFeather.start.length.step}}"
                   value="{{pathFeather.start.length.value}}"
                   inputmode="decimal"
                   data-fa-nexus-feather-start-display
                   title="{{pathFeather.start.length.display}}"
                   {{#if pathFeather.start.length.disabled}}disabled{{/if}}>
          </div>
        </div>
        <div class="fa-nexus-path-feather__section">
          <span class="fa-nexus-path-feather__title">End</span>
          <label class="fa-nexus-path-feather__toggle">
            <input type="checkbox"
                   data-fa-nexus-feather-end-toggle
                   {{#if pathFeather.end.enabled}}checked{{/if}}>
            <span>Shrink End</span>
          </label>
          <div class="fa-nexus-path-feather__slider">
            <span class="fa-nexus-path-feather__slider-label">Length</span>
            <input type="range"
                   min="{{pathFeather.end.length.min}}"
                   max="{{pathFeather.end.length.max}}"
                   step="{{pathFeather.end.length.step}}"
                   value="{{pathFeather.end.length.value}}"
                   data-fa-nexus-feather-end-length
                   {{#if pathFeather.end.length.disabled}}disabled{{/if}}>
            <input type="number"
                   class="fa-nexus-path-feather__value"
                   min="{{pathFeather.end.length.min}}"
                   max="{{pathFeather.end.length.max}}"
                   step="{{pathFeather.end.length.step}}"
                   value="{{pathFeather.end.length.value}}"
                   inputmode="decimal"
                   data-fa-nexus-feather-end-display
                   title="{{pathFeather.end.length.display}}"
                   {{#if pathFeather.end.length.disabled}}disabled{{/if}}>
          </div>
        </div>
        {{#if pathFeather.hint}}
          <p class="fa-nexus-tool-options__hint fa-nexus-path-feather__hint" data-fa-nexus-feather-hint>{{pathFeather.hint}}</p>
        {{/if}}
      </div>
    {{/if}} 

    {{#if opacityFeather.available}}
      <div class="fa-nexus-tool-options__control fa-nexus-opacity-feather" data-fa-nexus-opacity-feather>
        <div class="fa-nexus-tool-options__control-header">
          <span class="fa-nexus-tool-options__label">Opacity Feather</span>
          <span class="fa-nexus-tool-options__value">{{opacityFeather.unitLabel}}</span>
        </div>
        <div class="fa-nexus-opacity-feather__section">
          <label class="fa-nexus-opacity-feather__toggle">
            <input type="checkbox" data-fa-nexus-opacity-start-toggle {{#if opacityFeather.start.enabled}}checked{{/if}}>
            <span>Fade In</span>
          </label>
          <div class="fa-nexus-opacity-feather__slider">
            <span class="fa-nexus-opacity-feather__slider-label">Length</span>
            <input type="range"
                   min="{{opacityFeather.start.length.min}}"
                   max="{{opacityFeather.start.length.max}}"
                   step="{{opacityFeather.start.length.step}}"
                   value="{{opacityFeather.start.length.value}}"
                   data-fa-nexus-opacity-start-length
                   {{#if opacityFeather.start.length.disabled}}disabled{{/if}}>
            <input type="number"
                   class="fa-nexus-opacity-feather__value"
                   min="{{opacityFeather.start.length.min}}"
                   max="{{opacityFeather.start.length.max}}"
                   step="{{opacityFeather.start.length.step}}"
                   value="{{opacityFeather.start.length.value}}"
                   inputmode="decimal"
                   data-fa-nexus-opacity-start-display
                   title="{{opacityFeather.start.length.display}}"
                   {{#if opacityFeather.start.length.disabled}}disabled{{/if}}>
          </div>
        </div>
        <div class="fa-nexus-opacity-feather__section">
          <label class="fa-nexus-opacity-feather__toggle">
            <input type="checkbox" data-fa-nexus-opacity-end-toggle {{#if opacityFeather.end.enabled}}checked{{/if}}>
            <span>Fade Out</span>
          </label>
          <div class="fa-nexus-opacity-feather__slider">
            <span class="fa-nexus-opacity-feather__slider-label">Length</span>
            <input type="range"
                   min="{{opacityFeather.end.length.min}}"
                   max="{{opacityFeather.end.length.max}}"
                   step="{{opacityFeather.end.length.step}}"
                   value="{{opacityFeather.end.length.value}}"
                   data-fa-nexus-opacity-end-length
                   {{#if opacityFeather.end.length.disabled}}disabled{{/if}}>
            <input type="number"
                   class="fa-nexus-opacity-feather__value"
                   min="{{opacityFeather.end.length.min}}"
                   max="{{opacityFeather.end.length.max}}"
                   step="{{opacityFeather.end.length.step}}"
                   value="{{opacityFeather.end.length.value}}"
                   inputmode="decimal"
                   data-fa-nexus-opacity-end-display
                   title="{{opacityFeather.end.length.display}}"
                   {{#if opacityFeather.end.length.disabled}}disabled{{/if}}>
          </div>
        </div>
        {{#if opacityFeather.hint}}
          <p class="fa-nexus-tool-options__hint fa-nexus-opacity-feather__hint" data-fa-nexus-opacity-hint>{{opacityFeather.hint}}</p>
        {{/if}}
      </div>
    {{/if}}

    {{#if pathShadow.available}}
      <div class="fa-nexus-tool-options__control fa-nexus-path-shadow" data-fa-nexus-path-shadow>
        <div class="fa-nexus-path-shadow__toggles">
          <label class="fa-nexus-tool-options__toggle">
            <input type="checkbox"
                   data-fa-nexus-path-shadow-toggle
                   {{#if pathShadow.enabled}}checked{{/if}}>
            <span>Path Shadow</span>
          </label>
          {{#if pathShadow.editAvailable}}
            <div class="fa-nexus-path-shadow__edit-row" data-fa-nexus-path-shadow-edit-row>
              <label class="fa-nexus-tool-options__toggle" data-fa-nexus-path-shadow-edit-root>
                <input type="checkbox"
                       data-fa-nexus-path-shadow-edit
                       {{#if pathShadow.editMode}}checked{{/if}}
                       {{#if pathShadow.editDisabled}}disabled{{/if}}>
                <span>Edit Shadow</span>
              </label>
              {{#if pathShadow.editReset}}
                <button type="button"
                        class="fa-nexus-path-shadow__reset fa-nexus-path-shadow__edit-reset"
                        data-fa-nexus-path-shadow-edit-reset
                        title="{{pathShadow.editReset.tooltip}}"
                        {{#if pathShadow.editReset.disabled}}disabled{{/if}}>
                  Reset
                </button>
              {{/if}}
            </div>
          {{/if}}
        </div>
        <div class="fa-nexus-path-shadow__context-block">
          <span class="fa-nexus-path-shadow__elevation" data-fa-nexus-path-shadow-elevation>
            Elevation {{pathShadow.context.display}}
          </span>
          {{#if pathShadow.context.note}}
            <p class="fa-nexus-tool-options__hint fa-nexus-path-shadow__hint" data-fa-nexus-path-shadow-note>{{pathShadow.context.note}}</p>
          {{/if}}
        </div>
        {{#if pathShadow.presets.length}}
          <div class="fa-nexus-path-shadow__presets" data-fa-nexus-path-shadow-presets>
            {{#each pathShadow.presets as |preset|}}
              <button type="button"
                      class="fa-nexus-path-shadow__preset{{#if preset.active}} is-active{{/if}}{{#unless preset.saved}} is-empty{{/unless}}"
                      data-fa-nexus-path-shadow-preset="{{preset.index}}"
                      title="{{preset.tooltip}}">
                {{preset.label}}
              </button>
            {{/each}}
            <button type="button"
                    class="fa-nexus-path-shadow__reset"
                    data-fa-nexus-path-shadow-reset
                    title="Reset shadow settings to defaults"
                    {{#if pathShadow.reset.disabled}}disabled{{/if}}>
              Reset Shadow
            </button>
          </div>
        {{/if}}
        <div class="fa-nexus-path-shadow__sliders">
          <div class="fa-nexus-path-shadow__slider">
            <div class="fa-nexus-path-shadow__header">
              <span class="fa-nexus-path-shadow__label">Scale</span>
              <input type="number"
                     class="fa-nexus-path-shadow__value"
                     min="{{pathShadow.scale.min}}"
                     max="{{pathShadow.scale.max}}"
                     step="{{pathShadow.scale.step}}"
                     value="{{pathShadow.scale.value}}"
                     inputmode="decimal"
                     data-fa-nexus-path-shadow-scale-display
                     title="{{pathShadow.scale.display}}"
                     {{#if pathShadow.scale.disabled}}disabled{{/if}}>
            </div>
            <input type="range"
                   min="{{pathShadow.scale.min}}"
                   max="{{pathShadow.scale.max}}"
                   step="{{pathShadow.scale.step}}"
                   value="{{pathShadow.scale.value}}"
                   data-fa-nexus-path-shadow-scale
                   {{#if pathShadow.scale.disabled}}disabled{{/if}}>
          </div>
          <div class="fa-nexus-path-shadow__slider">
            <div class="fa-nexus-path-shadow__header">
              <span class="fa-nexus-path-shadow__label">Offset</span>
              <input type="number"
                     class="fa-nexus-path-shadow__value"
                     min="{{pathShadow.offset.min}}"
                     max="{{pathShadow.offset.max}}"
                     step="{{pathShadow.offset.step}}"
                     value="{{pathShadow.offset.value}}"
                     inputmode="decimal"
                     data-fa-nexus-path-shadow-offset-display
                     title="{{pathShadow.offset.display}}"
                     {{#if pathShadow.offset.disabled}}disabled{{/if}}>
            </div>
            <input type="range"
                   min="{{pathShadow.offset.min}}"
                   max="{{pathShadow.offset.max}}"
                   step="{{pathShadow.offset.step}}"
                   value="{{pathShadow.offset.value}}"
                   data-fa-nexus-path-shadow-offset
                   {{#if pathShadow.offset.disabled}}disabled{{/if}}>
          </div>
          <div class="fa-nexus-path-shadow__slider">
            <div class="fa-nexus-path-shadow__header">
              <span class="fa-nexus-path-shadow__label">Opacity</span>
              <input type="number"
                     class="fa-nexus-path-shadow__value"
                     min="{{pathShadow.alpha.min}}"
                     max="{{pathShadow.alpha.max}}"
                     step="{{pathShadow.alpha.step}}"
                     value="{{pathShadow.alpha.value}}"
                     inputmode="decimal"
                     data-fa-nexus-path-shadow-alpha-display
                     title="{{pathShadow.alpha.display}}"
                     {{#if pathShadow.alpha.disabled}}disabled{{/if}}>
            </div>
            <input type="range"
                   min="{{pathShadow.alpha.min}}"
                   max="{{pathShadow.alpha.max}}"
                   step="{{pathShadow.alpha.step}}"
                   value="{{pathShadow.alpha.value}}"
                   data-fa-nexus-path-shadow-alpha
                   {{#if pathShadow.alpha.disabled}}disabled{{/if}}>
          </div>
          <div class="fa-nexus-path-shadow__slider">
            <div class="fa-nexus-path-shadow__header">
              <span class="fa-nexus-path-shadow__label">Blur</span>
              <input type="number"
                     class="fa-nexus-path-shadow__value"
                     min="{{pathShadow.blur.min}}"
                     max="{{pathShadow.blur.max}}"
                     step="{{pathShadow.blur.step}}"
                     value="{{pathShadow.blur.value}}"
                     inputmode="decimal"
                     data-fa-nexus-path-shadow-blur-display
                     title="{{pathShadow.blur.display}}"
                     {{#if pathShadow.blur.disabled}}disabled{{/if}}>
            </div>
            <input type="range"
                   min="{{pathShadow.blur.min}}"
                   max="{{pathShadow.blur.max}}"
                   step="{{pathShadow.blur.step}}"
                   value="{{pathShadow.blur.value}}"
                   data-fa-nexus-path-shadow-blur
                   {{#if pathShadow.blur.disabled}}disabled{{/if}}>
          </div>
          <div class="fa-nexus-path-shadow__slider">
            <div class="fa-nexus-path-shadow__header">
              <span class="fa-nexus-path-shadow__label">Dilation</span>
              <input type="number"
                     class="fa-nexus-path-shadow__value"
                     min="{{pathShadow.dilation.min}}"
                     max="{{pathShadow.dilation.max}}"
                     step="{{pathShadow.dilation.step}}"
                     value="{{pathShadow.dilation.value}}"
                     inputmode="decimal"
                     data-fa-nexus-path-shadow-dilation-display
                     title="{{pathShadow.dilation.display}}"
                     {{#if pathShadow.dilation.disabled}}disabled{{/if}}>
            </div>
            <input type="range"
                   min="{{pathShadow.dilation.min}}"
                   max="{{pathShadow.dilation.max}}"
                   step="{{pathShadow.dilation.step}}"
                   value="{{pathShadow.dilation.value}}"
                   data-fa-nexus-path-shadow-dilation
                   {{#if pathShadow.dilation.disabled}}disabled{{/if}}>
          </div>
        </div>
      </div>
    {{/if}}

    {{#if scale.available}}
      {{#unless fillTexture.available}}
      <div class="fa-nexus-tool-options__control fa-nexus-scale" data-fa-nexus-scale-root>
        <div class="fa-nexus-tool-options__control-header">
          <span class="fa-nexus-tool-options__label">{{#if scale.label}}{{scale.label}}{{else}}Scale{{/if}}</span>
          <input type="number"
                 class="fa-nexus-tool-options__value"
                 min="{{scale.min}}"
                 max="{{scale.max}}"
                 step="{{scale.step}}"
                 value="{{scale.value}}"
                 inputmode="decimal"
                 data-fa-nexus-scale-display
                 title="{{scale.display}}"
                 {{#if scale.disabled}}disabled{{/if}}>
        </div>
        <div class="fa-nexus-scale__body">
          <input type="range"
                 min="{{scale.min}}"
                 max="{{scale.max}}"
                 step="{{scale.step}}"
                 value="{{scale.value}}"
                 aria-label="Scale"
                 data-fa-nexus-scale-base>
          {{#if scale.randomButtonVisible}}
            <button type="button"
                    class="fa-nexus-scale__random {{#if scale.randomEnabled}}is-active{{/if}}"
                    data-fa-nexus-scale-random
                    aria-pressed="{{scale.randomEnabled}}"
                    title="{{scale.randomTooltip}}">
              <i class="fas fa-random" aria-hidden="true"></i>
              <span>{{scale.randomLabel}}</span>
            </button>
          {{/if}}
        </div>
        {{#if scale.randomEnabled}}
          <div class="fa-nexus-scale__strength" data-fa-nexus-scale-strength-row>
            <span class="fa-nexus-scale__strength-label">Strength</span>
            <input type="range"
                   min="{{scale.strengthMin}}"
                   max="{{scale.strengthMax}}"
                   step="{{scale.strengthStep}}"
                   value="{{scale.strength}}"
                   aria-label="Random scale strength"
                   data-fa-nexus-scale-strength>
            <input type="number"
                   class="fa-nexus-scale__strength-value"
                   min="{{scale.strengthMin}}"
                   max="{{scale.strengthMax}}"
                   step="{{scale.strengthStep}}"
                   value="{{scale.strength}}"
                   inputmode="decimal"
                   data-fa-nexus-scale-strength-label
                   title="{{scale.strengthDisplay}}">
          </div>
        {{/if}}
        {{#if scale.randomHint}}
          <p class="fa-nexus-tool-options__hint fa-nexus-scale__hint">{{scale.randomHint}}</p>
        {{/if}}
      </div>
      {{/unless}}
    {{/if}}

    {{#if rotation.available}}
      {{#unless fillTexture.available}}
      <div class="fa-nexus-tool-options__control fa-nexus-rotation" data-fa-nexus-rotation-root>
        <div class="fa-nexus-tool-options__control-header">
          <span class="fa-nexus-tool-options__label">{{#if rotation.label}}{{rotation.label}}{{else}}Rotation{{/if}}</span>
          <input type="number"
                 class="fa-nexus-tool-options__value"
                 min="{{rotation.min}}"
                 max="{{rotation.max}}"
                 step="{{rotation.step}}"
                 value="{{rotation.value}}"
                 inputmode="decimal"
                 data-fa-nexus-rotation-display
                 title="{{rotation.display}}"
                 {{#if rotation.disabled}}disabled{{/if}}>
        </div>
        <div class="fa-nexus-rotation__body">
          <input type="range"
                 min="{{rotation.min}}"
                 max="{{rotation.max}}"
                 step="{{rotation.step}}"
                 value="{{rotation.value}}"
                 aria-label="Rotation"
                 data-fa-nexus-rotation-base>
          {{#if rotation.randomButtonVisible}}
            <button type="button"
                    class="fa-nexus-rotation__random {{#if rotation.randomEnabled}}is-active{{/if}}"
                    data-fa-nexus-rotation-random
                    aria-pressed="{{rotation.randomEnabled}}"
                    title="{{rotation.randomTooltip}}">
              <i class="fas fa-random" aria-hidden="true"></i>
              <span>{{rotation.randomLabel}}</span>
            </button>
          {{/if}}
        </div>
        {{#if rotation.randomEnabled}}
          <div class="fa-nexus-rotation__strength" data-fa-nexus-rotation-strength-row>
            <span class="fa-nexus-rotation__strength-label">Strength</span>
            <input type="range"
                   min="{{rotation.strengthMin}}"
                   max="{{rotation.strengthMax}}"
                   step="{{rotation.strengthStep}}"
                   value="{{rotation.strength}}"
                   aria-label="Random rotation strength"
                   data-fa-nexus-rotation-strength>
            <input type="number"
                   class="fa-nexus-rotation__strength-value"
                   min="{{rotation.strengthMin}}"
                   max="{{rotation.strengthMax}}"
                   step="{{rotation.strengthStep}}"
                   value="{{rotation.strength}}"
                   inputmode="decimal"
                   data-fa-nexus-rotation-strength-label
                   title="{{rotation.strengthDisplay}}">
          </div>
        {{/if}}
        {{#if rotation.randomHint}}
          <p class="fa-nexus-tool-options__hint fa-nexus-rotation__hint">{{rotation.randomHint}}</p>
        {{/if}}
      </div>
      {{/unless}}
    {{/if}}

    {{#if hasCustomToggles}}
      {{#each customToggles as |toggle|}}
        <label class="fa-nexus-tool-options__toggle" title="{{toggle.tooltip}}">
          <input type="checkbox" data-fa-nexus-custom-toggle="{{toggle.id}}" {{#if toggle.enabled}}checked{{/if}} {{#if toggle.disabled}}disabled{{/if}}>
          <span>{{toggle.label}}</span>
        </label>
      {{/each}}
    {{/if}}

  </section>

  {{#if placeAs.available}}
    <section class="fa-nexus-tool-options__section fa-nexus-place-as {{#if placeAs.open}}is-open{{/if}}">
      <div class="fa-nexus-place-as__header">
        <span class="fa-nexus-tool-options__label">Place Tokens As</span>
        <button type="button"
                class="fa-nexus-place-as__filter-button {{#if placeAs.filter.hasExcluded}}has-excluded{{/if}}"
                data-place-as-filter
                title="{{placeAs.filter.tooltip}}">
          <i class="fas fa-filter" aria-hidden="true"></i>
          {{#if placeAs.filter.hasExcluded}}
            <span class="fa-nexus-place-as__filter-badge">{{placeAs.filter.excludedCount}}</span>
          {{/if}}
        </button>
      </div>
      <button type="button"
              class="fa-nexus-place-as__selection"
              data-place-as-toggle
              aria-expanded="{{placeAs.open}}"
              aria-controls="fa-nexus-place-as-panel">
        <span class="fa-nexus-place-as__selection-text">
          <span class="fa-nexus-place-as__selection-label">{{placeAs.selectedLabel}}</span>
          {{#if placeAs.selectedSubtitle}}
            <span class="fa-nexus-place-as__selection-subtitle">{{placeAs.selectedSubtitle}}</span>
          {{/if}}
        </span>
        <span class="fa-nexus-place-as__chevron" aria-hidden="true"></span>
      </button>
      {{#if placeAs.open}}
        <div class="fa-nexus-place-as__panel" id="fa-nexus-place-as-panel">
          <div class="fa-nexus-place-as__search-wrapper">
            <input type="search"
                   id="fa-nexus-place-as-search"
                   class="fa-nexus-place-as__search"
                   placeholder="Search actors"
                   value="{{placeAs.searchValue}}">
          </div>
          {{#if placeAs.isLoading}}
            <p class="fa-nexus-tool-options__hint">Loading compendium actors</p>
          {{/if}}
          {{#if placeAs.loadError}}
            <p class="fa-nexus-tool-options__hint fa-nexus-place-as__error">{{placeAs.loadError}}</p>
          {{/if}}
          <div class="fa-nexus-place-as__list" data-fa-nexus-place-as-list>
            {{#if placeAs.hasOptions}}
              {{#each placeAs.options as |entry|}}
                {{#if entry.isHeader}}
                  <div class="fa-nexus-place-as__group">{{entry.label}}</div>
                {{else}}
                  <button type="button"
                          class="fa-nexus-place-as__option {{#if entry.selected}}is-selected{{/if}}"
                          data-place-as-option="{{entry.id}}">
                    <span class="fa-nexus-place-as__option-label">{{entry.label}}</span>
                    {{#if entry.subtitle}}
                      <span class="fa-nexus-place-as__option-subtitle">{{entry.subtitle}}</span>
                    {{/if}}
                  </button>
                {{/if}}
              {{/each}}
            {{/if}}
          </div>
          {{#if placeAs.emptyMessage}}
            <div class="fa-nexus-place-as__empty">{{placeAs.emptyMessage}}</div>
          {{/if}}
        </div>
      {{/if}}
      {{#if placeAs.hp}}
        <div class="fa-nexus-place-as__hp" data-place-as-hp>
          <label for="fa-nexus-place-as-hp-mode" class="fa-nexus-place-as__hp-label">Hit Points</label>
          <select id="fa-nexus-place-as-hp-mode"
                  class="fa-nexus-place-as__hp-mode"
                  data-place-as-hp-mode>
            {{#each placeAs.hp.modeOptions as |option|}}
              <option value="{{option.id}}"
                      {{#if option.selected}}selected{{/if}}
                      {{#if option.disabled}}disabled{{/if}}>
                {{option.label}}
              </option>
            {{/each}}
          </select>
          {{#if placeAs.hp.modeHint}}
            <p class="fa-nexus-tool-options__hint fa-nexus-place-as__hp-hint" data-place-as-hp-mode-hint>{{placeAs.hp.modeHint}}</p>
          {{/if}}
          <label class="fa-nexus-place-as__hp-row"
                 data-place-as-hp-percent-row
                 for="fa-nexus-place-as-hp-percent"
                 {{#unless placeAs.hp.showPercent}}hidden{{/unless}}>
            <span class="fa-nexus-place-as__hp-row-label">Deviation</span>
            <input type="number"
                   id="fa-nexus-place-as-hp-percent"
                   class="fa-nexus-place-as__hp-input"
                   min="{{placeAs.hp.percentMin}}"
                   max="{{placeAs.hp.percentMax}}"
                   step="1"
                   value="{{placeAs.hp.percentValue}}"
                   data-place-as-hp-percent>
            <span class="fa-nexus-place-as__hp-row-suffix">%</span>
          </label>
          {{#if placeAs.hp.percentHint}}
            <p class="fa-nexus-tool-options__hint fa-nexus-place-as__hp-hint"
               data-place-as-hp-percent-hint
               {{#unless placeAs.hp.showPercent}}hidden{{/unless}}>{{placeAs.hp.percentHint}}</p>
          {{/if}}
          <label class="fa-nexus-place-as__hp-row"
                 data-place-as-hp-static-row
                 for="fa-nexus-place-as-hp-static"
                 {{#unless placeAs.hp.showStatic}}hidden{{/unless}}>
            <span class="fa-nexus-place-as__hp-row-label">Value / Range</span>
            <input type="text"
                   id="fa-nexus-place-as-hp-static"
                   class="fa-nexus-place-as__hp-input {{#if placeAs.hp.staticError}}has-error{{/if}}"
                   value="{{placeAs.hp.staticValue}}"
                   placeholder="e.g. 40 or 20-85"
                   data-place-as-hp-static
                   {{#if placeAs.hp.staticError}}aria-invalid="true"{{/if}}>
          </label>
          {{#if placeAs.hp.staticHint}}
            <p class="fa-nexus-tool-options__hint fa-nexus-place-as__hp-hint"
               data-place-as-hp-static-hint
               {{#unless placeAs.hp.showStatic}}hidden{{/unless}}>{{placeAs.hp.staticHint}}</p>
          {{/if}}
          {{#if placeAs.hp.staticError}}
            <p class="fa-nexus-tool-options__hint fa-nexus-place-as__error" data-place-as-hp-static-error>{{placeAs.hp.staticError}}</p>
          {{/if}}
        </div>
      {{/if}}
      {{#if placeAs.naming.available}}
        <div class="fa-nexus-place-as__naming" data-place-as-naming>
          <label class="fa-nexus-tool-options__toggle" title="{{placeAs.naming.appendNumberTooltip}}">
            <input type="checkbox" data-place-as-append-number {{#if placeAs.naming.appendNumber}}checked{{/if}}>
            <span>{{placeAs.naming.appendNumberLabel}}</span>
          </label>
          <label class="fa-nexus-tool-options__toggle" title="{{placeAs.naming.prependAdjectiveTooltip}}">
            <input type="checkbox" data-place-as-prepend-adjective {{#if placeAs.naming.prependAdjective}}checked{{/if}}>
            <span>{{placeAs.naming.prependAdjectiveLabel}}</span>
          </label>
        </div>
      {{/if}}
      <label class="fa-nexus-tool-options__toggle fa-nexus-place-as__linked" title="{{placeAs.linkedTooltip}}">
        <input type="checkbox" data-place-as-linked {{#if placeAs.linked}}checked{{/if}} {{#if placeAs.linkedDisabled}}disabled{{/if}}>
        <span>{{placeAs.linkedLabel}}</span>
      </label>
    </section>
  {{/if}}

    {{#unless hasActiveTool}}
      <section class="fa-nexus-tool-options__section">
        <div class="fa-nexus-tool-options__empty">
          <span>No tool is currently active.</span>
        </div>
      </section>
    {{/unless}}
  </div>

  {{#if shortcuts.available}}
    <footer class="fa-nexus-tool-options__footer{{#if shortcuts.collapsed}} is-collapsed{{/if}}" data-fa-nexus-shortcuts-root>
      <button type="button"
              class="fa-nexus-tool-options__footer-toggle"
              data-fa-nexus-shortcuts-toggle
              aria-expanded="{{#unless shortcuts.collapsed}}true{{else}}false{{/unless}}"
              aria-controls="fa-nexus-tool-options-shortcuts">
        <span class="fa-nexus-tool-options__footer-label">Shortcuts</span>
        <i class="fas fa-chevron-down fa-nexus-tool-options__footer-icon" aria-hidden="true"></i>
      </button>
      <div class="fa-nexus-tool-options__footer-content"
           id="fa-nexus-tool-options-shortcuts"
           data-fa-nexus-shortcuts-content
           {{#if shortcuts.collapsed}}hidden{{/if}}>
        <ul class="fa-nexus-tool-options__hints">
          {{#each shortcuts.lines as |hint|}}
            <li class="fa-nexus-tool-options__hint-item">{{hint}}</li>
          {{/each}}
        </ul>
      </div>
    </footer>
  {{/if}}
</div>
